(function(){function a(a){return function(c,b,d,n){b=y(b,n,4);var e=!C(c)&&k.keys(c),g=(e||c).length,f=0<a?0:g-1;3>arguments.length&&(d=c[e?e[f]:f],f+=a);for(var h=b,m=d;0<=f&&f<g;f+=a)var q=e?e[f]:f,m=h(m,c[q],q,c);return m}}function f(a){return function(c,b,d){b=x(b,d);d=A(c);for(var n=0<a?0:d-1;0<=n&&n<d;n+=a)if(b(c[n],n,c))return n;return-1}}function c(a,c,b){return function(d,n,e){var g=0,f=A(d);if("number"==typeof e)0<a?g=0<=e?e:Math.max(e+f,g):f=0<=e?Math.min(e+1,f):e+f+1;else if(b&&e&&f)return e=
b(d,n),d[e]===n?e:-1;if(n!==n)return e=c(m.call(d,g,f),k.isNaN),0<=e?e+g:-1;for(e=0<a?g:f-1;0<=e&&e<f;e+=a)if(d[e]===n)return e;return-1}}function b(a,c){var b=N.length,n=a.constructor,n=k.isFunction(n)&&n.prototype||d,e="constructor";for(k.has(a,e)&&!k.contains(c,e)&&c.push(e);b--;)e=N[b],e in a&&a[e]!==n[e]&&!k.contains(c,e)&&c.push(e)}var g=this,e=g._,h=Array.prototype,d=Object.prototype,l=h.push,m=h.slice,q=d.toString,t=d.hasOwnProperty,r=Array.isArray,p=Object.keys,v=Function.prototype.bind,
s=Object.create,u=function(){},k=function(a){if(a instanceof k)return a;if(!(this instanceof k))return new k(a);this._wrapped=a};"undefined"!==typeof exports?("undefined"!==typeof module&&module.exports&&(exports=module.exports=k),exports._=k):g._=k;k.VERSION="1.8.3";var y=function(a,c,b){if(void 0===c)return a;switch(null==b?3:b){case 1:return function(b){return a.call(c,b)};case 2:return function(b,d){return a.call(c,b,d)};case 3:return function(b,d,n){return a.call(c,b,d,n)};case 4:return function(b,
d,n,e){return a.call(c,b,d,n,e)}}return function(){return a.apply(c,arguments)}},x=function(a,c,b){return null==a?k.identity:k.isFunction(a)?y(a,c,b):k.isObject(a)?k.matcher(a):k.property(a)};k.iteratee=function(a,c){return x(a,c,Infinity)};var z=function(a,c){return function(b){var d=arguments.length;if(2>d||null==b)return b;for(var n=1;n<d;n++)for(var e=arguments[n],f=a(e),g=f.length,h=0;h<g;h++){var k=f[h];c&&void 0!==b[k]||(b[k]=e[k])}return b}},O=function(a){if(!k.isObject(a))return{};if(s)return s(a);
u.prototype=a;a=new u;u.prototype=null;return a},F=function(a){return function(c){return null==c?void 0:c[a]}},P=Math.pow(2,53)-1,A=F("length"),C=function(a){a=A(a);return"number"==typeof a&&0<=a&&a<=P};k.each=k.forEach=function(a,c,b){c=y(c,b);var d;if(C(a))for(b=0,d=a.length;b<d;b++)c(a[b],b,a);else{var n=k.keys(a);b=0;for(d=n.length;b<d;b++)c(a[n[b]],n[b],a)}return a};k.map=k.collect=function(a,c,b){c=x(c,b);b=!C(a)&&k.keys(a);for(var d=(b||a).length,n=Array(d),e=0;e<d;e++){var f=b?b[e]:e;n[e]=
c(a[f],f,a)}return n};k.reduce=k.foldl=k.inject=a(1);k.reduceRight=k.foldr=a(-1);k.find=k.detect=function(a,c,b){c=C(a)?k.findIndex(a,c,b):k.findKey(a,c,b);if(void 0!==c&&-1!==c)return a[c]};k.filter=k.select=function(a,c,b){var d=[];c=x(c,b);k.each(a,function(a,b,B){c(a,b,B)&&d.push(a)});return d};k.reject=function(a,c,b){return k.filter(a,k.negate(x(c)),b)};k.every=k.all=function(a,c,b){c=x(c,b);b=!C(a)&&k.keys(a);for(var d=(b||a).length,n=0;n<d;n++){var e=b?b[n]:n;if(!c(a[e],e,a))return!1}return!0};
k.some=k.any=function(a,c,b){c=x(c,b);b=!C(a)&&k.keys(a);for(var d=(b||a).length,n=0;n<d;n++){var e=b?b[n]:n;if(c(a[e],e,a))return!0}return!1};k.contains=k.includes=k.include=function(a,c,b,d){C(a)||(a=k.values(a));if("number"!=typeof b||d)b=0;return 0<=k.indexOf(a,c,b)};k.invoke=function(a,c){var b=m.call(arguments,2),d=k.isFunction(c);return k.map(a,function(a){var B=d?c:a[c];return null==B?B:B.apply(a,b)})};k.pluck=function(a,c){return k.map(a,k.property(c))};k.where=function(a,c){return k.filter(a,
k.matcher(c))};k.findWhere=function(a,c){return k.find(a,k.matcher(c))};k.max=function(a,c,b){var d=-Infinity,n=-Infinity,e;if(null==c&&null!=a){a=C(a)?a:k.values(a);for(var f=0,g=a.length;f<g;f++)b=a[f],b>d&&(d=b)}else c=x(c,b),k.each(a,function(a,b,B){e=c(a,b,B);if(e>n||-Infinity===e&&-Infinity===d)d=a,n=e});return d};k.min=function(a,c,b){var d=Infinity,n=Infinity,e;if(null==c&&null!=a){a=C(a)?a:k.values(a);for(var f=0,g=a.length;f<g;f++)b=a[f],b<d&&(d=b)}else c=x(c,b),k.each(a,function(a,b,B){e=
c(a,b,B);if(e<n||Infinity===e&&Infinity===d)d=a,n=e});return d};k.shuffle=function(a){a=C(a)?a:k.values(a);for(var c=a.length,b=Array(c),d=0,n;d<c;d++)n=k.random(0,d),n!==d&&(b[d]=b[n]),b[n]=a[d];return b};k.sample=function(a,c,b){return null==c||b?(C(a)||(a=k.values(a)),a[k.random(a.length-1)]):k.shuffle(a).slice(0,Math.max(0,c))};k.sortBy=function(a,c,b){c=x(c,b);return k.pluck(k.map(a,function(a,b,B){return{value:a,index:b,criteria:c(a,b,B)}}).sort(function(a,c){var b=a.criteria,B=c.criteria;if(b!==
B){if(b>B||void 0===b)return 1;if(b<B||void 0===B)return-1}return a.index-c.index}),"value")};var K=function(a){return function(c,b,d){var n={};b=x(b,d);k.each(c,function(d,e){var f=b(d,e,c);a(n,d,f)});return n}};k.groupBy=K(function(a,c,b){k.has(a,b)?a[b].push(c):a[b]=[c]});k.indexBy=K(function(a,c,b){a[b]=c});k.countBy=K(function(a,c,b){k.has(a,b)?a[b]++:a[b]=1});k.toArray=function(a){return a?k.isArray(a)?m.call(a):C(a)?k.map(a,k.identity):k.values(a):[]};k.size=function(a){return null==a?0:C(a)?
a.length:k.keys(a).length};k.partition=function(a,c,b){c=x(c,b);var d=[],n=[];k.each(a,function(a,b,B){(c(a,b,B)?d:n).push(a)});return[d,n]};k.first=k.head=k.take=function(a,c,b){return null==a?void 0:null==c||b?a[0]:k.initial(a,a.length-c)};k.initial=function(a,c,b){return m.call(a,0,Math.max(0,a.length-(null==c||b?1:c)))};k.last=function(a,c,b){return null==a?void 0:null==c||b?a[a.length-1]:k.rest(a,Math.max(0,a.length-c))};k.rest=k.tail=k.drop=function(a,c,b){return m.call(a,null==c||b?1:c)};k.compact=
function(a){return k.filter(a,k.identity)};var D=function(a,c,b,d){var n=[],e=0;d=d||0;for(var f=A(a);d<f;d++){var g=a[d];if(C(g)&&(k.isArray(g)||k.isArguments(g))){c||(g=D(g,c,b));var h=0,m=g.length;for(n.length+=m;h<m;)n[e++]=g[h++]}else b||(n[e++]=g)}return n};k.flatten=function(a,c){return D(a,c,!1)};k.without=function(a){return k.difference(a,m.call(arguments,1))};k.uniq=k.unique=function(a,c,b,d){k.isBoolean(c)||(d=b,b=c,c=!1);null!=b&&(b=x(b,d));d=[];for(var n=[],e=0,f=A(a);e<f;e++){var g=
a[e],h=b?b(g,e,a):g;c?(e&&n===h||d.push(g),n=h):b?k.contains(n,h)||(n.push(h),d.push(g)):k.contains(d,g)||d.push(g)}return d};k.union=function(){return k.uniq(D(arguments,!0,!0))};k.intersection=function(a){for(var c=[],b=arguments.length,d=0,n=A(a);d<n;d++){var e=a[d];if(!k.contains(c,e)){for(var f=1;f<b&&k.contains(arguments[f],e);f++);f===b&&c.push(e)}}return c};k.difference=function(a){var c=D(arguments,!0,!0,1);return k.filter(a,function(a){return!k.contains(c,a)})};k.zip=function(){return k.unzip(arguments)};
k.unzip=function(a){for(var c=a&&k.max(a,A).length||0,b=Array(c),d=0;d<c;d++)b[d]=k.pluck(a,d);return b};k.object=function(a,c){for(var b={},d=0,n=A(a);d<n;d++)c?b[a[d]]=c[d]:b[a[d][0]]=a[d][1];return b};k.findIndex=f(1);k.findLastIndex=f(-1);k.sortedIndex=function(a,c,b,d){b=x(b,d,1);c=b(c);d=0;for(var n=A(a);d<n;){var e=Math.floor((d+n)/2);b(a[e])<c?d=e+1:n=e}return d};k.indexOf=c(1,k.findIndex,k.sortedIndex);k.lastIndexOf=c(-1,k.findLastIndex);k.range=function(a,c,b){null==c&&(c=a||0,a=0);b=b||
1;c=Math.max(Math.ceil((c-a)/b),0);for(var d=Array(c),n=0;n<c;n++,a+=b)d[n]=a;return d};var V=function(a,c,b,d,n){if(!(d instanceof c))return a.apply(b,n);c=O(a.prototype);a=a.apply(c,n);return k.isObject(a)?a:c};k.bind=function(a,c){if(v&&a.bind===v)return v.apply(a,m.call(arguments,1));if(!k.isFunction(a))throw new TypeError("Bind must be called on a function");var b=m.call(arguments,2),d=function(){return V(a,d,c,this,b.concat(m.call(arguments)))};return d};k.partial=function(a){var c=m.call(arguments,
1),b=function(){for(var d=0,n=c.length,e=Array(n),f=0;f<n;f++)e[f]=c[f]===k?arguments[d++]:c[f];for(;d<arguments.length;)e.push(arguments[d++]);return V(a,b,this,this,e)};return b};k.bindAll=function(a){var c,b=arguments.length,d;if(1>=b)throw Error("bindAll must be passed function names");for(c=1;c<b;c++)d=arguments[c],a[d]=k.bind(a[d],a);return a};k.memoize=function(a,c){var b=function(d){var n=b.cache,e=""+(c?c.apply(this,arguments):d);k.has(n,e)||(n[e]=a.apply(this,arguments));return n[e]};b.cache=
{};return b};k.delay=function(a,c){var b=m.call(arguments,2);return setTimeout(function(){return a.apply(null,b)},c)};k.defer=k.partial(k.delay,k,1);k.throttle=function(a,c,b){var d,n,e,f=null,g=0;b||(b={});var h=function(){g=!1===b.leading?0:k.now();f=null;e=a.apply(d,n);f||(d=n=null)};return function(){var m=k.now();g||!1!==b.leading||(g=m);var q=c-(m-g);d=this;n=arguments;0>=q||q>c?(f&&(clearTimeout(f),f=null),g=m,e=a.apply(d,n),f||(d=n=null)):f||!1===b.trailing||(f=setTimeout(h,q));return e}};
k.debounce=function(a,c,b){var d,n,e,f,g,h=function(){var m=k.now()-f;m<c&&0<=m?d=setTimeout(h,c-m):(d=null,b||(g=a.apply(e,n),d||(e=n=null)))};return function(){e=this;n=arguments;f=k.now();var m=b&&!d;d||(d=setTimeout(h,c));m&&(g=a.apply(e,n),e=n=null);return g}};k.wrap=function(a,c){return k.partial(c,a)};k.negate=function(a){return function(){return!a.apply(this,arguments)}};k.compose=function(){var a=arguments,c=a.length-1;return function(){for(var b=c,d=a[c].apply(this,arguments);b--;)d=a[b].call(this,
d);return d}};k.after=function(a,c){return function(){if(1>--a)return c.apply(this,arguments)}};k.before=function(a,c){var b;return function(){0<--a&&(b=c.apply(this,arguments));1>=a&&(c=null);return b}};k.once=k.partial(k.before,2);var T=!{toString:null}.propertyIsEnumerable("toString"),N="valueOf isPrototypeOf toString propertyIsEnumerable hasOwnProperty toLocaleString".split(" ");k.keys=function(a){if(!k.isObject(a))return[];if(p)return p(a);var c=[],d;for(d in a)k.has(a,d)&&c.push(d);T&&b(a,c);
return c};k.allKeys=function(a){if(!k.isObject(a))return[];var c=[],d;for(d in a)c.push(d);T&&b(a,c);return c};k.values=function(a){for(var c=k.keys(a),b=c.length,d=Array(b),n=0;n<b;n++)d[n]=a[c[n]];return d};k.mapObject=function(a,c,b){c=x(c,b);b=k.keys(a);for(var d=b.length,n={},e,f=0;f<d;f++)e=b[f],n[e]=c(a[e],e,a);return n};k.pairs=function(a){for(var c=k.keys(a),b=c.length,d=Array(b),n=0;n<b;n++)d[n]=[c[n],a[c[n]]];return d};k.invert=function(a){for(var c={},b=k.keys(a),d=0,n=b.length;d<n;d++)c[a[b[d]]]=
b[d];return c};k.functions=k.methods=function(a){var c=[],b;for(b in a)k.isFunction(a[b])&&c.push(b);return c.sort()};k.extend=z(k.allKeys);k.extendOwn=k.assign=z(k.keys);k.findKey=function(a,c,b){c=x(c,b);b=k.keys(a);for(var d,n=0,e=b.length;n<e;n++)if(d=b[n],c(a[d],d,a))return d};k.pick=function(a,c,b){var d={},n=a,e,f;if(null==n)return d;k.isFunction(c)?(f=k.allKeys(n),e=y(c,b)):(f=D(arguments,!1,!1,1),e=function(a,c,b){return c in b},n=Object(n));for(var g=0,h=f.length;g<h;g++){var m=f[g],q=n[m];
e(q,m,n)&&(d[m]=q)}return d};k.omit=function(a,c,b){if(k.isFunction(c))c=k.negate(c);else{var d=k.map(D(arguments,!1,!1,1),String);c=function(a,c){return!k.contains(d,c)}}return k.pick(a,c,b)};k.defaults=z(k.allKeys,!0);k.create=function(a,c){var b=O(a);c&&k.extendOwn(b,c);return b};k.clone=function(a){return k.isObject(a)?k.isArray(a)?a.slice():k.extend({},a):a};k.tap=function(a,c){c(a);return a};k.isMatch=function(a,c){var b=k.keys(c),d=b.length;if(null==a)return!d;for(var n=Object(a),e=0;e<d;e++){var f=
b[e];if(c[f]!==n[f]||!(f in n))return!1}return!0};var E=function(a,c,b,d){if(a===c)return 0!==a||1/a===1/c;if(null==a||null==c)return a===c;a instanceof k&&(a=a._wrapped);c instanceof k&&(c=c._wrapped);var n=q.call(a);if(n!==q.call(c))return!1;switch(n){case "[object RegExp]":case "[object String]":return""+a===""+c;case "[object Number]":return+a!==+a?+c!==+c:0===+a?1/+a===1/c:+a===+c;case "[object Date]":case "[object Boolean]":return+a===+c}n="[object Array]"===n;if(!n){if("object"!=typeof a||
"object"!=typeof c)return!1;var e=a.constructor,f=c.constructor;if(e!==f&&!(k.isFunction(e)&&e instanceof e&&k.isFunction(f)&&f instanceof f)&&"constructor"in a&&"constructor"in c)return!1}b=b||[];d=d||[];for(e=b.length;e--;)if(b[e]===a)return d[e]===c;b.push(a);d.push(c);if(n){e=a.length;if(e!==c.length)return!1;for(;e--;)if(!E(a[e],c[e],b,d))return!1}else{n=k.keys(a);e=n.length;if(k.keys(c).length!==e)return!1;for(;e--;)if(f=n[e],!k.has(c,f)||!E(a[f],c[f],b,d))return!1}b.pop();d.pop();return!0};
k.isEqual=function(a,c){return E(a,c)};k.isEmpty=function(a){return null==a?!0:C(a)&&(k.isArray(a)||k.isString(a)||k.isArguments(a))?0===a.length:0===k.keys(a).length};k.isElement=function(a){return!(!a||1!==a.nodeType)};k.isArray=r||function(a){return"[object Array]"===q.call(a)};k.isObject=function(a){var c=typeof a;return"function"===c||"object"===c&&!!a};k.each("Arguments Function String Number Date RegExp Error".split(" "),function(a){k["is"+a]=function(c){return q.call(c)==="[object "+a+"]"}});
k.isArguments(arguments)||(k.isArguments=function(a){return k.has(a,"callee")});"function"!=typeof/./&&"object"!=typeof Int8Array&&(k.isFunction=function(a){return"function"==typeof a||!1});k.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};k.isNaN=function(a){return k.isNumber(a)&&a!==+a};k.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"===q.call(a)};k.isNull=function(a){return null===a};k.isUndefined=function(a){return void 0===a};k.has=function(a,c){return null!=a&&
t.call(a,c)};k.noConflict=function(){g._=e;return this};k.identity=function(a){return a};k.constant=function(a){return function(){return a}};k.noop=function(){};k.property=F;k.propertyOf=function(a){return null==a?function(){}:function(c){return a[c]}};k.matcher=k.matches=function(a){a=k.extendOwn({},a);return function(c){return k.isMatch(c,a)}};k.times=function(a,c,b){var d=Array(Math.max(0,a));c=y(c,b,1);for(b=0;b<a;b++)d[b]=c(b);return d};k.random=function(a,c){null==c&&(c=a,a=0);return a+Math.floor(Math.random()*
(c-a+1))};k.now=Date.now||function(){return(new Date).getTime()};r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};z=k.invert(r);F=function(a){var c=function(c){return a[c]},b="(?:"+k.keys(a).join("|")+")",d=RegExp(b),n=RegExp(b,"g");return function(a){a=null==a?"":""+a;return d.test(a)?a.replace(n,c):a}};k.escape=F(r);k.unescape=F(z);k.result=function(a,c,b){c=null==a?void 0:a[c];void 0===c&&(c=b);return k.isFunction(c)?c.call(a):c};var ha=0;k.uniqueId=function(a){var c=
++ha+"";return a?a+c:c};k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var I=/(.)^/,w={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ca=/\\|'|\r|\n|\u2028|\u2029/g,G=function(a){return"\\"+w[a]};k.template=function(a,c,b){!c&&b&&(c=b);c=k.defaults({},c,k.templateSettings);b=RegExp([(c.escape||I).source,(c.interpolate||I).source,(c.evaluate||I).source].join("|")+"|$","g");var d=0,n="__p+='";a.replace(b,function(c,b,
e,f,g){n+=a.slice(d,g).replace(ca,G);d=g+c.length;b?n+="'+\n((__t=("+b+"))==null?'':_.escape(__t))+\n'":e?n+="'+\n((__t=("+e+"))==null?'':__t)+\n'":f&&(n+="';\n"+f+"\n__p+='");return c});n+="';\n";c.variable||(n="with(obj||{}){\n"+n+"}\n");n="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+n+"return __p;\n";try{var e=new Function(c.variable||"obj","_",n)}catch(f){throw f.source=n,f;}b=function(a){return e.call(this,a,k)};b.source="function("+(c.variable||
"obj")+"){\n"+n+"}";return b};k.chain=function(a){a=k(a);a._chain=!0;return a};var n=function(a,c){return a._chain?k(c).chain():c};k.mixin=function(a){k.each(k.functions(a),function(c){var b=k[c]=a[c];k.prototype[c]=function(){var a=[this._wrapped];l.apply(a,arguments);return n(this,b.apply(k,a))}})};k.mixin(k);k.each("pop push reverse shift sort splice unshift".split(" "),function(a){var c=h[a];k.prototype[a]=function(){var b=this._wrapped;c.apply(b,arguments);"shift"!==a&&"splice"!==a||0!==b.length||
delete b[0];return n(this,b)}});k.each(["concat","join","slice"],function(a){var c=h[a];k.prototype[a]=function(){return n(this,c.apply(this._wrapped,arguments))}});k.prototype.value=function(){return this._wrapped};k.prototype.valueOf=k.prototype.toJSON=k.prototype.value;k.prototype.toString=function(){return""+this._wrapped};"function"===typeof define&&define.amd&&define("underscore",[],function(){return k})}).call(this);
(function(a){var f="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"===typeof define&&define.amd)define(["underscore","jquery","exports"],function(c,b,d){f.Backbone=a(f,d,c,b)});else if("undefined"!==typeof exports){var c=require("underscore"),b;try{b=require("jquery")}catch(g){}a(f,exports,c,b)}else f.Backbone=a(f,{},f._,f.jQuery||f.Zepto||f.ender||f.$)})(function(a,f,c,b){var g=a.Backbone,e=Array.prototype.slice;f.VERSION="1.3.3";
f.$=b;f.noConflict=function(){a.Backbone=g;return this};f.emulateHTTP=!1;f.emulateJSON=!1;var h=function(a,b,d){switch(a){case 1:return function(){return c[b](this[d])};case 2:return function(a){return c[b](this[d],a)};case 3:return function(a,n){return c[b](this[d],l(a,this),n)};case 4:return function(a,n,e){return c[b](this[d],l(a,this),n,e)};default:return function(){var a=e.call(arguments);a.unshift(this[d]);return c[b].apply(c,a)}}},d=function(a,b,d){c.each(b,function(b,e){c[e]&&(a.prototype[e]=
h(b,e,d))})},l=function(a,b){return c.isFunction(a)?a:c.isObject(a)&&!b._isModel(a)?m(a):c.isString(a)?function(c){return c.get(a)}:a},m=function(a){var b=c.matches(a);return function(a){return b(a.attributes)}};b=f.Events={};var q=/\s+/,t=function(a,b,d,e,f){var g=0,h;if(d&&"object"===typeof d)for(void 0!==e&&("context"in f)&&void 0===f.context&&(f.context=e),h=c.keys(d);g<h.length;g++)b=t(a,b,h[g],d[h[g]],f);else if(d&&q.test(d))for(h=d.split(q);g<h.length;g++)b=a(b,h[g],e,f);else b=a(b,d,e,f);
return b};b.on=function(a,c,b){return r(this,a,c,b)};var r=function(a,c,b,d,e){a._events=t(p,a._events||{},c,b,{context:d,ctx:a,listening:e});e&&((a._listeners||(a._listeners={}))[e.id]=e);return a};b.listenTo=function(a,b,d){if(!a)return this;var e=a._listenId||(a._listenId=c.uniqueId("l")),f=this._listeningTo||(this._listeningTo={}),g=f[e];g||(g=this._listenId||(this._listenId=c.uniqueId("l")),g=f[e]={obj:a,objId:e,id:g,listeningTo:f,count:0});r(a,b,d,this,g);return this};var p=function(a,c,b,d){if(b){c=
a[c]||(a[c]=[]);var e=d.context,f=d.ctx;(d=d.listening)&&d.count++;c.push({callback:b,context:e,ctx:e||f,listening:d})}return a};b.off=function(a,c,b){if(!this._events)return this;this._events=t(v,this._events,a,c,{context:b,listeners:this._listeners});return this};b.stopListening=function(a,b,d){var e=this._listeningTo;if(!e)return this;a=a?[a._listenId]:c.keys(e);for(var f=0;f<a.length;f++){var g=e[a[f]];if(!g)break;g.obj.off(b,d,this)}return this};var v=function(a,b,d,e){if(a){var f=0,g,h=e.context;
e=e.listeners;if(b||d||h){for(var k=b?[b]:c.keys(a);f<k.length;f++){b=k[f];var m=a[b];if(!m)break;for(var q=[],l=0;l<m.length;l++)g=m[l],d&&d!==g.callback&&d!==g.callback._callback||h&&h!==g.context?q.push(g):(g=g.listening)&&0===--g.count&&(delete e[g.id],delete g.listeningTo[g.objId]);q.length?a[b]=q:delete a[b]}return a}for(a=c.keys(e);f<a.length;f++)g=e[a[f]],delete e[g.id],delete g.listeningTo[g.objId]}};b.once=function(a,b,d){var e=t(s,{},a,b,c.bind(this.off,this));"string"===typeof a&&null==
d&&(b=void 0);return this.on(e,b,d)};b.listenToOnce=function(a,b,d){b=t(s,{},b,d,c.bind(this.stopListening,this,a));return this.listenTo(a,b)};var s=function(a,b,d,e){if(d){var f=a[b]=c.once(function(){e(b,f);d.apply(this,arguments)});f._callback=d}return a};b.trigger=function(a){if(!this._events)return this;for(var c=Math.max(0,arguments.length-1),b=Array(c),d=0;d<c;d++)b[d]=arguments[d+1];t(u,this._events,a,void 0,b);return this};var u=function(a,c,b,d){if(a){b=a[c];var e=a.all;b&&e&&(e=e.slice());
b&&k(b,d);e&&k(e,[c].concat(d))}return a},k=function(a,c){var b,d=-1,e=a.length,f=c[0],g=c[1],h=c[2];switch(c.length){case 0:for(;++d<e;)(b=a[d]).callback.call(b.ctx);break;case 1:for(;++d<e;)(b=a[d]).callback.call(b.ctx,f);break;case 2:for(;++d<e;)(b=a[d]).callback.call(b.ctx,f,g);break;case 3:for(;++d<e;)(b=a[d]).callback.call(b.ctx,f,g,h);break;default:for(;++d<e;)(b=a[d]).callback.apply(b.ctx,c)}};b.bind=b.on;b.unbind=b.off;c.extend(f,b);var y=f.Model=function(a,b){var d=a||{};b||(b={});this.cid=
c.uniqueId(this.cidPrefix);this.attributes={};b.collection&&(this.collection=b.collection);b.parse&&(d=this.parse(d,b)||{});var e=c.result(this,"defaults"),d=c.defaults(c.extend({},e,d),e);this.set(d,b);this.changed={};this.initialize.apply(this,arguments)};c.extend(y.prototype,b,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(a){return c.clone(this.attributes)},sync:function(){return f.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},
escape:function(a){return c.escape(this.get(a))},has:function(a){return null!=this.get(a)},matches:function(a){return!!c.iteratee(a,this)(this.attributes)},set:function(a,b,d){if(null==a)return this;var e;"object"===typeof a?(e=a,d=b):(e={})[a]=b;d||(d={});if(!this._validate(e,d))return!1;var f=d.unset;a=d.silent;var g=[],h=this._changing;this._changing=!0;h||(this._previousAttributes=c.clone(this.attributes),this.changed={});var k=this.attributes,m=this.changed,q=this._previousAttributes,l;for(l in e)b=
e[l],c.isEqual(k[l],b)||g.push(l),c.isEqual(q[l],b)?delete m[l]:m[l]=b,f?delete k[l]:k[l]=b;this.idAttribute in e&&(this.id=this.get(this.idAttribute));if(!a)for(g.length&&(this._pending=d),b=0;b<g.length;b++)this.trigger("change:"+g[b],this,k[g[b]],d);if(h)return this;if(!a)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b=
{},d;for(d in this.attributes)b[d]=void 0;return this.set(b,c.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!c.isEmpty(this.changed):c.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):!1;var b=this._changing?this._previousAttributes:this.attributes,d={},e;for(e in a){var f=a[e];c.isEqual(b[e],f)||(d[e]=f)}return c.size(d)?d:!1},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},
fetch:function(a){a=c.extend({parse:!0},a);var b=this,d=a.success;a.success=function(c){var e=a.parse?b.parse(c,a):c;if(!b.set(e,a))return!1;d&&d.call(a.context,b,c,a);b.trigger("sync",b,c,a)};G(this,a);return this.sync("read",this,a)},save:function(a,b,d){var e;null==a||"object"===typeof a?(e=a,d=b):(e={})[a]=b;d=c.extend({validate:!0,parse:!0},d);var f=d.wait;if(e&&!f){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;var g=this,h=d.success,k=this.attributes;d.success=function(a){g.attributes=
k;var b=d.parse?g.parse(a,d):a;f&&(b=c.extend({},e,b));if(b&&!g.set(b,d))return!1;h&&h.call(d.context,g,a,d);g.trigger("sync",g,a,d)};G(this,d);e&&f&&(this.attributes=c.extend({},k,e));a=this.isNew()?"create":d.patch?"patch":"update";"patch"!==a||d.attrs||(d.attrs=e);a=this.sync(a,this,d);this.attributes=k;return a},destroy:function(a){a=a?c.clone(a):{};var b=this,d=a.success,e=a.wait,f=function(){b.stopListening();b.trigger("destroy",b,b.collection,a)};a.success=function(c){e&&f();d&&d.call(a.context,
b,c,a);b.isNew()||b.trigger("sync",b,c,a)};var g=!1;this.isNew()?c.defer(a.success):(G(this,a),g=this.sync("delete",this,a));e||f();return g},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||ca();if(this.isNew())return a;var b=this.get(this.idAttribute);return a.replace(/[^\/]$/,"$&/")+encodeURIComponent(b)},parse:function(a,c){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},
c.extend({},a,{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;if(!d)return!0;this.trigger("invalid",this,d,c.extend(b,{validationError:d}));return!1}});d(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var x=f.Collection=function(a,b){b||(b={});b.model&&(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,
arguments);a&&this.reset(a,c.extend({silent:!0},b))},z={add:!0,remove:!0,merge:!0},O={add:!0,remove:!1},F=function(a,c,b){b=Math.min(Math.max(b,0),a.length);var d=Array(a.length-b),e=c.length,f;for(f=0;f<d.length;f++)d[f]=a[f+b];for(f=0;f<e;f++)a[f+b]=c[f];for(f=0;f<d.length;f++)a[f+e+b]=d[f]};c.extend(x.prototype,b,{model:y,initialize:function(){},toJSON:function(a){return this.map(function(c){return c.toJSON(a)})},sync:function(){return f.sync.apply(this,arguments)},add:function(a,b){return this.set(a,
c.extend({merge:!1},b,O))},remove:function(a,b){b=c.extend({},b);var d=!c.isArray(a);a=d?[a]:a.slice();var e=this._removeModels(a,b);!b.silent&&e.length&&(b.changes={added:[],merged:[],removed:e},this.trigger("update",this,b));return d?e[0]:e},set:function(a,b){if(null!=a){b=c.extend({},z,b);b.parse&&!this._isModel(a)&&(a=this.parse(a,b)||[]);var d=!c.isArray(a);a=d?[a]:a.slice();var e=b.at;null!=e&&(e=+e);e>this.length&&(e=this.length);0>e&&(e+=this.length+1);var f=[],g=[],h=[],k=[],m={},q=b.add,
l=b.merge,r=b.remove,p=!1,t=this.comparator&&null==e&&!1!==b.sort,T=c.isString(this.comparator)?this.comparator:null,s,u;for(u=0;u<a.length;u++){s=a[u];var w=this.get(s);w?(l&&s!==w&&(s=this._isModel(s)?s.attributes:s,b.parse&&(s=w.parse(s,b)),w.set(s,b),h.push(w),t&&!p&&(p=w.hasChanged(T))),m[w.cid]||(m[w.cid]=!0,f.push(w)),a[u]=w):q&&(s=a[u]=this._prepareModel(s,b))&&(g.push(s),this._addReference(s,b),m[s.cid]=!0,f.push(s))}if(r){for(u=0;u<this.length;u++)s=this.models[u],m[s.cid]||k.push(s);k.length&&
this._removeModels(k,b)}m=!1;f.length&&!t&&q&&r?(m=this.length!==f.length||c.some(this.models,function(a,c){return a!==f[c]}),this.models.length=0,F(this.models,f,0),this.length=this.models.length):g.length&&(t&&(p=!0),F(this.models,g,null==e?this.length:e),this.length=this.models.length);p&&this.sort({silent:!0});if(!b.silent){for(u=0;u<g.length;u++)null!=e&&(b.index=e+u),s=g[u],s.trigger("add",s,this,b);(p||m)&&this.trigger("sort",this,b);if(g.length||k.length||h.length)b.changes={added:g,removed:k,
merged:h},this.trigger("update",this,b)}return d?a[0]:a}},reset:function(a,b){b=b?c.clone(b):{};for(var d=0;d<this.models.length;d++)this._removeReference(this.models[d],b);b.previousModels=this.models;this._reset();a=this.add(a,c.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a)},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},
shift:function(a){var b=this.at(0);return this.remove(b,a)},slice:function(){return e.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a]||this._byId[this.modelId(a.attributes||a)]||a.cid&&this._byId[a.cid]},has:function(a){return null!=this.get(a)},at:function(a){0>a&&(a+=this.length);return this.models[a]},where:function(a,b){return this[b?"find":"filter"](a)},findWhere:function(a){return this.where(a,!0)},sort:function(a){var b=this.comparator;if(!b)throw Error("Cannot sort a set without a comparator");
a||(a={});var d=b.length;c.isFunction(b)&&(b=c.bind(b,this));1===d||c.isString(b)?this.models=this.sortBy(b):this.models.sort(b);a.silent||this.trigger("sort",this,a);return this},pluck:function(a){return this.map(a+"")},fetch:function(a){a=c.extend({parse:!0},a);var b=a.success,d=this;a.success=function(c){d[a.reset?"reset":"set"](c,a);b&&b.call(a.context,d,c,a);d.trigger("sync",d,c,a)};G(this,a);return this.sync("read",this,a)},create:function(a,b){b=b?c.clone(b):{};var d=b.wait;a=this._prepareModel(a,
b);if(!a)return!1;d||this.add(a,b);var e=this,f=b.success;b.success=function(a,b,c){d&&e.add(a,c);f&&f.call(c.context,a,b,c)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(a){return a[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(this._isModel(a))return a.collection||(a.collection=
this),a;b=b?c.clone(b):{};b.collection=this;var d=new this.model(a,b);if(!d.validationError)return d;this.trigger("invalid",this,d.validationError,b);return!1},_removeModels:function(a,b){for(var c=[],d=0;d<a.length;d++){var e=this.get(a[d]);if(e){var f=this.indexOf(e);this.models.splice(f,1);this.length--;delete this._byId[e.cid];var g=this.modelId(e.attributes);null!=g&&delete this._byId[g];b.silent||(b.index=f,e.trigger("remove",e,this,b));c.push(e);this._removeReference(e,b)}}return c},_isModel:function(a){return a instanceof
y},_addReference:function(a,b){this._byId[a.cid]=a;var c=this.modelId(a.attributes);null!=c&&(this._byId[c]=a);a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){delete this._byId[a.cid];var c=this.modelId(a.attributes);null!=c&&delete this._byId[c];this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){if(b){if(("add"===a||"remove"===a)&&c!==this)return;"destroy"===a&&this.remove(b,d);if("change"===a){var e=this.modelId(b.previousAttributes()),
f=this.modelId(b.attributes);e!==f&&(null!=e&&delete this._byId[e],null!=f&&(this._byId[f]=b))}}this.trigger.apply(this,arguments)}});d(x,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,
partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var d=f.View=function(a){this.cid=c.uniqueId("view");c.extend(this,c.pick(a,A));this._ensureElement();this.initialize.apply(this,arguments)},P=/^(\S+)\s*(.*)$/,A="model collection el id attributes className tagName events".split(" ");c.extend(d.prototype,b,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();
return this},_removeElement:function(){this.$el.remove()},setElement:function(a){this.undelegateEvents();this._setElement(a);this.delegateEvents();return this},_setElement:function(a){this.$el=a instanceof f.$?a:f.$(a);this.el=this.$el[0]},delegateEvents:function(a){a||(a=c.result(this,"events"));if(!a)return this;this.undelegateEvents();for(var b in a){var d=a[b];c.isFunction(d)||(d=this[d]);if(d){var e=b.match(P);this.delegate(e[1],e[2],c.bind(d,this))}}return this},delegate:function(a,b,c){this.$el.on(a+
".delegateEvents"+this.cid,b,c);return this},undelegateEvents:function(){this.$el&&this.$el.off(".delegateEvents"+this.cid);return this},undelegate:function(a,b,c){this.$el.off(a+".delegateEvents"+this.cid,b,c);return this},_createElement:function(a){return document.createElement(a)},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"));else{var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id"));this.className&&(a["class"]=c.result(this,"className"));
this.setElement(this._createElement(c.result(this,"tagName")));this._setAttributes(a)}},_setAttributes:function(a){this.$el.attr(a)}});f.sync=function(a,b,d){var e=C[a];c.defaults(d||(d={}),{emulateHTTP:f.emulateHTTP,emulateJSON:f.emulateJSON});var g={type:e,dataType:"json"};d.url||(g.url=c.result(b,"url")||ca());null!=d.data||!b||"create"!==a&&"update"!==a&&"patch"!==a||(g.contentType="application/json",g.data=JSON.stringify(d.attrs||b.toJSON(d)));d.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",
g.data=g.data?{model:g.data}:{});if(d.emulateHTTP&&("PUT"===e||"DELETE"===e||"PATCH"===e)){g.type="POST";d.emulateJSON&&(g.data._method=e);var h=d.beforeSend;d.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",e);if(h)return h.apply(this,arguments)}}"GET"===g.type||d.emulateJSON||(g.processData=!1);var k=d.error;d.error=function(a,b,c){d.textStatus=b;d.errorThrown=c;k&&k.call(d.context,a,b,c)};a=d.xhr=f.ajax(c.extend(g,d));b.trigger("request",b,a,d);return a};var C={create:"POST",
update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};f.ajax=function(){return f.$.ajax.apply(f.$,arguments)};var K=f.Router=function(a){a||(a={});a.routes&&(this.routes=a.routes);this._bindRoutes();this.initialize.apply(this,arguments)},D=/\((.*?)\)/g,V=/(\(\?)?:\w+/g,T=/\*\w+/g,N=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(K.prototype,b,{initialize:function(){},route:function(a,b,d){c.isRegExp(a)||(a=this._routeToRegExp(a));c.isFunction(b)&&(d=b,b="");d||(d=this[b]);var e=this;f.history.route(a,function(c){c=
e._extractParameters(a,c);!1!==e.execute(d,c,b)&&(e.trigger.apply(e,["route:"+b].concat(c)),e.trigger("route",b,c),f.history.trigger("route",e,b,c))});return this},execute:function(a,b,c){a&&a.apply(this,b)},navigate:function(a,b){f.history.navigate(a,b);return this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var a,b=c.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(N,"\\$&").replace(D,"(?:$1)?").replace(V,
function(a,b){return b?a:"([^/?]+)"}).replace(T,"([^?]*?)");return RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var E=f.History=function(){this.handlers=[];this.checkUrl=c.bind(this.checkUrl,this);"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},ha=/^[#\/]|\s+$/g,I=/^\/+|\/+$/g,w=/#.*$/;E.started=!1;c.extend(E.prototype,
b,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(a){return decodeURI(a.replace(/%25/g,"%2525"))},getSearch:function(){var a=this.location.href.replace(/#.*/,"").match(/\?.+/);return a?a[0]:""},getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getPath:function(){var a=
this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===a.charAt(0)?a.slice(1):a},getFragment:function(a){null==a&&(a=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash());return a.replace(ha,"")},start:function(a){if(E.started)throw Error("Backbone.history has already been started");E.started=!0;this.options=c.extend({root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._hasHashChange=
"onhashchange"in window&&(void 0===document.documentMode||7<document.documentMode);this._useHashChange=this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!(!this.history||!this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();this.root=("/"+this.root+"/").replace(I,"/");if(this._wantsHashChange&&this._wantsPushState)if(this._hasPushState||this.atRoot())this._hasPushState&&this.atRoot()&&
this.navigate(this.getHash(),{replace:!0});else return a=this.root.slice(0,-1)||"/",this.location.replace(a+"#"+this.getPath()),!0;this._hasHashChange||!this._wantsHashChange||this._usePushState||(this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1,a=document.body,a=a.insertBefore(this.iframe,a.firstChild).contentWindow,a.document.open(),a.document.close(),a.location.hash="#"+this.fragment);a=window.addEventListener||
function(a,b){return attachEvent("on"+a,b)};this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?a("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval));if(!this.options.silent)return this.loadUrl()},stop:function(){var a=window.removeEventListener||function(a,b){return detachEvent("on"+a,b)};this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&a("hashchange",this.checkUrl,
!1);this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null);this._checkUrlInterval&&clearInterval(this._checkUrlInterval);E.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getHash(this.iframe.contentWindow));if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()},loadUrl:function(a){if(!this.matchRoot())return!1;a=this.fragment=this.getFragment(a);return c.some(this.handlers,
function(b){if(b.route.test(a))return b.callback(a),!0})},navigate:function(a,b){if(!E.started)return!1;b&&!0!==b||(b={trigger:!!b});a=this.getFragment(a||"");var c=this.root;if(""===a||"?"===a.charAt(0))c=c.slice(0,-1)||"/";c+=a;a=this.decodeFragment(a.replace(w,""));if(this.fragment!==a){this.fragment=a;if(this._usePushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getHash(this.iframe.contentWindow)&&
(c=this.iframe.contentWindow,b.replace||(c.document.open(),c.document.close()),this._updateHash(c.location,a,b.replace));else return this.location.assign(c);if(b.trigger)return this.loadUrl(a)}},_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});f.history=new E;y.extend=x.extend=K.extend=d.extend=E.extend=function(a,b){var d=this,e;e=a&&c.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)};c.extend(e,d,b);e.prototype=
c.create(d.prototype,a);e.prototype.constructor=e;e.__super__=d.prototype;return e};var ca=function(){throw Error('A "url" property or function must be specified');},G=function(a,b){var c=b.error;b.error=function(d){c&&c.call(b.context,a,d,b);a.trigger("error",a,d,b)}};return f});
+function(a){function f(b,e){return this.each(function(){var f=a(this),d=f.data("bs.modal"),l=a.extend({},c.DEFAULTS,f.data(),"object"==typeof b&&b);d||f.data("bs.modal",d=new c(this,l));if("string"==typeof b)d[b](e);else l.show&&d.show(e)})}var c=function(b,c){this.options=c;this.$body=a(document.body);this.$element=a(b);this.$dialog=this.$element.find(".modal-dialog");this.originalBodyPad=this.isShown=this.$backdrop=null;this.scrollbarWidth=0;this.ignoreBackdropClick=!1;this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,
a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.6";c.TRANSITION_DURATION=300;c.BACKDROP_TRANSITION_DURATION=150;c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0};c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)};c.prototype.show=function(b){var e=this,f=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(f);this.isShown||f.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),
this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){e.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(e.$element)&&(e.ignoreBackdropClick=!0)})}),this.backdrop(function(){var d=a.support.transition&&e.$element.hasClass("fade");e.$element.parent().length||e.$element.appendTo(e.$body);e.$element.show().scrollTop(0);e.adjustDialog();d&&e.$element[0].offsetWidth;
e.$element.addClass("in");e.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});d?e.$dialog.one("bsTransitionEnd",function(){e.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):e.$element.trigger("focus").trigger(f)}))};c.prototype.hide=function(b){b&&b.preventDefault();b=a.Event("hide.bs.modal");this.$element.trigger(b);this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),
this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())};c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))};c.prototype.escape=function(){if(this.isShown&&this.options.keyboard)this.$element.on("keydown.dismiss.bs.modal",
a.proxy(function(a){27==a.which&&this.hide()},this));else this.isShown||this.$element.off("keydown.dismiss.bs.modal")};c.prototype.resize=function(){if(this.isShown)a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this));else a(window).off("resize.bs.modal")};c.prototype.hideModal=function(){var a=this;this.$element.hide();this.backdrop(function(){a.$body.removeClass("modal-open");a.resetAdjustments();a.resetScrollbar();a.$element.trigger("hidden.bs.modal")})};c.prototype.removeBackdrop=function(){this.$backdrop&&
this.$backdrop.remove();this.$backdrop=null};c.prototype.backdrop=function(b){var e=this,f=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&f;this.$backdrop=a(document.createElement("div")).addClass("modal-backdrop "+f).appendTo(this.$body);this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():
this.hide())},this));d&&this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");b&&(d?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b())}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),f=function(){e.removeBackdrop();b&&b()},a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",f).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):f()):b&&b()};c.prototype.handleUpdate=function(){this.adjustDialog()};
c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})};c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};c.prototype.checkScrollbar=function(){var a=window.innerWidth;a||(a=document.documentElement.getBoundingClientRect(),a=a.right-Math.abs(a.left));this.bodyIsOverflowing=
document.body.clientWidth<a;this.scrollbarWidth=this.measureScrollbar()};c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)};c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure";
this.$body.append(a);var b=a.offsetWidth-a.clientWidth;this.$body[0].removeChild(a);return b};var b=a.fn.modal;a.fn.modal=f;a.fn.modal.Constructor=c;a.fn.modal.noConflict=function(){a.fn.modal=b;return this};a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),h=c.attr("href"),d=a(c.attr("data-target")||h&&h.replace(/.*(?=#[^\s]+$)/,"")),h=d.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(h)&&h},d.data(),c.data());c.is("a")&&b.preventDefault();d.one("show.bs.modal",
function(a){if(!a.isDefaultPrevented())d.one("hidden.bs.modal",function(){c.is(":visible")&&c.trigger("focus")})});f.call(d,h,this)})}(jQuery);
+function(a){function f(b){return this.each(function(){var e=a(this),f=e.data("bs.affix"),d="object"==typeof b&&b;f||e.data("bs.affix",f=new c(this,d));if("string"==typeof b)f[b]()})}var c=function(b,e){this.options=a.extend({},c.DEFAULTS,e);this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this));this.$element=a(b);this.pinnedOffset=this.unpin=this.affixed=null;this.checkPosition()};
c.VERSION="3.3.6";c.RESET="affix affix-top affix-bottom";c.DEFAULTS={offset:0,target:window};c.prototype.getState=function(a,b,c,d){var f=this.$target.scrollTop(),m=this.$element.offset(),q=this.$target.height();if(null!=c&&"top"==this.affixed)return f<c?"top":!1;if("bottom"==this.affixed)return null!=c?f+this.unpin<=m.top?!1:"bottom":f+q<=a-d?!1:"bottom";var t=null==this.affixed,m=t?f:m.top;return null!=c&&f<=c?"top":null!=d&&m+(t?q:b)>=a-d?"bottom":!1};c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;
this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop();return this.pinnedOffset=this.$element.offset().top-a};c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)};c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),e=this.options.offset,f=e.top,d=e.bottom,l=Math.max(a(document).height(),a(document.body).height());"object"!=typeof e&&(d=f=e);"function"==typeof f&&(f=e.top(this.$element));
"function"==typeof d&&(d=e.bottom(this.$element));e=this.getState(l,b,f,d);if(this.affixed!=e){null!=this.unpin&&this.$element.css("top","");var f="affix"+(e?"-"+e:""),m=a.Event(f+".bs.affix");this.$element.trigger(m);if(m.isDefaultPrevented())return;this.affixed=e;this.unpin="bottom"==e?this.getPinnedOffset():null;this.$element.removeClass(c.RESET).addClass(f).trigger(f.replace("affix","affixed")+".bs.affix")}"bottom"==e&&this.$element.offset({top:l-b-d})}};var b=a.fn.affix;a.fn.affix=f;a.fn.affix.Constructor=
c;a.fn.affix.noConflict=function(){a.fn.affix=b;return this};a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{};null!=c.offsetBottom&&(c.offset.bottom=c.offsetBottom);null!=c.offsetTop&&(c.offset.top=c.offsetTop);f.call(b,c)})})}(jQuery);
(function(a,f,c){function b(){for(var a=1;a<arguments.length;a++)for(var b in arguments[a])arguments[a].hasOwnProperty(b)&&(arguments[0][b]=arguments[a][b]);return arguments[0]}function g(a,b){for(var c=0;c<a.length;c++)if(a[c]===b)return!0;return!1}function e(){return Math.max(f.documentElement.scrollHeight,f.body.scrollHeight,f.documentElement.offsetHeight,f.body.offsetHeight,f.documentElement.clientHeight)}function h(){return a.pageYOffset||("CSS1Compat"===f.compatMode?f.documentElement.scrollTop:
f.body.scrollTop)}function d(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent?a.detachEvent("on"+b,c):a["on"+type]=null}function l(b){r=!0;var c=a;c.addEventListener?c.addEventListener("scroll",b,!1):c.attachEvent?c.attachEvent("onscroll",b):c.onscroll=b}var m={minHeight:0,elements:[],percentage:!0,userTiming:!0,pixelDepth:!0,nonInteraction:!0,gaGlobal:!1,gtmOverride:!1},q=b({},m),t=[],r=!1,p=0,v,s,u,k,y,x=function(z){function x(b,c,d,e){if(k)k({event:"ScrollDistance",eventCategory:"Scroll Depth",
eventAction:b,eventLabel:c,eventValue:1,eventNonInteraction:q.nonInteraction}),q.pixelDepth&&2<arguments.length&&d>p&&(p=d,k({event:"ScrollDistance",eventCategory:"Scroll Depth",eventAction:"Pixel Depth",eventLabel:(250*Math.floor(d/250)).toString(),eventValue:1,eventNonInteraction:q.nonInteraction})),q.userTiming&&3<arguments.length&&k({event:"ScrollTiming",eventCategory:"Scroll Depth",eventAction:b,eventLabel:c,eventTiming:e});else{if(v&&(a[u]("send","event","Scroll Depth",b,c,1,{nonInteraction:q.nonInteraction}),
q.pixelDepth&&2<arguments.length&&d>p&&(p=d,a[u]("send","event","Scroll Depth","Pixel Depth",(250*Math.floor(d/250)).toString(),1,{nonInteraction:q.nonInteraction})),q.userTiming&&3<arguments.length))a[u]("send","timing","Scroll Depth",b,e,c);s&&(_gaq.push(["_trackEvent","Scroll Depth",b,c,1,q.nonInteraction]),q.pixelDepth&&2<arguments.length&&d>p&&(p=d,_gaq.push(["_trackEvent","Scroll Depth","Pixel Depth",(250*Math.floor(d/250)).toString(),1,q.nonInteraction])),q.userTiming&&3<arguments.length&&
_gaq.push(["_trackTiming","Scroll Depth",b,e,c,100]))}}function F(a,b){var c,d,e,f=null,g=0,h=function(){g=new Date;f=null;e=a.apply(c,d)};return function(){var k=new Date;g||(g=k);var m=b-(k-g);c=this;d=arguments;0>=m?(clearTimeout(f),f=null,g=k,e=a.apply(c,d)):f||(f=setTimeout(h,m));return e}}var P=+new Date;q=b({},m,z);e()<q.minHeight||(q.gaGlobal?(v=!0,u=q.gaGlobal):"function"===typeof ga?(v=!0,u="ga"):"function"===typeof __gaTracker&&(v=!0,u="__gaTracker"),"undefined"!==typeof _gaq&&"function"===
typeof _gaq.push&&(s=!0),"function"===typeof q.eventHandler?k=q.eventHandler:"undefined"===typeof dataLayer||"function"!==typeof dataLayer.push||q.gtmOverride||(k=function(a){dataLayer.push(a)}),y=F(function(){var b=e(),k=a.innerHeight||f.documentElement.clientHeight||f.body.clientHeight,k=h()+k,b={"25%":parseInt(0.25*b,10),"50%":parseInt(0.5*b,10),"75%":parseInt(0.75*b,10),"100%":b-5},m=+new Date-P;if(t.length>=4+q.elements.length)r=!1,d(a,"scroll",void 0);else{if(q.elements)for(var l=q.elements,
p=0;p<l.length;p++){var s=l[p];if(!g(t,s)){var u="string"===typeof s?"undefined"!==typeof a.jQuery?a.jQuery(s).get(0):"undefined"!==typeof f.querySelector?f.querySelector(s):"#"==s.charAt(0)?f.getElementById(s.substr(1)):c:s;u&&(u=u.getBoundingClientRect().top+h(),k>=u&&(x("Elements",s,k,m),t.push(s)))}}if(q.percentage)for(var E in b)b.hasOwnProperty(E)&&(l=b[E],!g(t,E)&&k>=l&&(x("Percentage",E,k,m),t.push(E)))}},500),l(y))};a.gascrolldepth={init:x,reset:function(){t=[];p=0;if("undefined"!=typeof y){var b=
y;r=!1;d(a,"scroll",b);l(y)}},addElements:function(a){if("undefined"!=typeof a&&"[object Array]"===Object.prototype.toString.call(a)){for(var b=0;b<a.length;b++){var c=a[b];-1==q.elements.indexOf(c)&&q.elements.push(c)}r||l()}},removeElements:function(a){if("undefined"!=typeof a&&"[object Array]"===Object.prototype.toString.call(a))for(var b=0;b<a.length;b++){var c=a[b],d=q.elements.indexOf(c);-1<d&&q.elements.splice(d,1);c=t.indexOf(c);-1<c&&t.splice(c,1)}}};"undefined"!==typeof a.jQuery&&(a.jQuery.gascrolldepth=
x)})(window,document);(function(a){a.url={};a.extend(a.url,{_params:{},init:function(){var a="";try{for(var a=(document.location.href.split("?",2)[1]||"").split("#")[0].split("&")||[],c=0;c<a.length;c++){var b=a[c].split("=");b[0]&&(this._params[b[0]]=unescape(b[1]))}}catch(g){alert(g)}},param:function(a){return this._params[a]||""},paramAll:function(){return this._params}});a.url.init()})(jQuery);String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/gm,"")});
Array.prototype.indexOf||(Array.prototype.indexOf=function(a,f){if(void 0===this||null===this)throw new TypeError('"this" is null or not defined');var c=this.length>>>0;f=+f||0;Infinity===Math.abs(f)&&(f=0);0>f&&(f+=c,0>f&&(f=0));for(;f<c;f++)if(this[f]===a)return f;return-1});
Array.prototype.filter||(Array.prototype.filter=function(a){if(void 0===this||null===this)throw new TypeError;var f=Object(this),c=f.length>>>0;if("function"!==typeof a)throw new TypeError;for(var b=[],g=2<=arguments.length?arguments[1]:void 0,e=0;e<c;e++)if(e in f){var h=f[e];a.call(g,h,e,f)&&b.push(h)}return b});
Array.prototype.map||(Array.prototype.map=function(a){if(void 0===this||null===this)throw new TypeError;var f=Object(this),c=f.length>>>0;if("function"!==typeof a)throw new TypeError;for(var b=Array(c),g=2<=arguments.length?arguments[1]:void 0,e=0;e<c;e++)e in f&&(b[e]=a.call(g,f[e],e,f));return b});
var NameParse=function(){function a(){return a}a.parse=function(a){a=a.trim();var c=[],b="",g="",e="",h=null,d=h=0,c=a.split(" ").filter(function(a){return-1===a.indexOf("(")}),h=c.length;a=this.is_salutation(c[0]);var l=this.is_suffix(c[h-1]),m=a?1:0,q=l?h-1:h,h=c[m];this.is_initial(h)?this.is_initial(c[m+1])?g+=" "+h.toUpperCase():e+=" "+h.toUpperCase():g+=" "+this.fix_case(h);for(d=m+1;d<q-1;d++){h=c[d];if(this.is_compound_lastName(h))break;this.is_initial(h)?e+=" "+h.toUpperCase():g+=" "+this.fix_case(h)}if(1<
q-m)for(h=d;h<q;h++)b+=" "+this.fix_case(c[h]);return{salutation:a||"",firstName:g.trim(),initials:e.trim(),lastName:b.trim(),suffix:l||""}};a.removeIgnoredChars=function(a){return a.replace(".","")};a.is_salutation=function(a){a=this.removeIgnoredChars(a).toLowerCase();return"mr"===a||"master"===a||"mister"===a?"Mr.":"mrs"===a?"Mrs.":"miss"===a||"ms"===a?"Ms.":"dr"===a?"Dr.":"rev"===a?"Rev.":"fr"===a?"Fr.":!1};a.is_suffix=function(a){a=this.removeIgnoredChars(a).toLowerCase();var c="I II III IV V Senior Junior Jr Sr PhD APR RPh PE MD MA DMD CME BVM CFRE CLU CPA CSC CSJ DC DD DDS DO DVM EdD Esq JD LLD OD OSB PC Ret RGS RN RNC SHCJ SJ SNJM SSMO USA USAF USAFR USAR USCG USMC USMCR USN USNR".split(" ");
a=c.map(function(a){return a.toLowerCase()}).indexOf(a);return 0<=a?c[a]:!1};a.is_compound_lastName=function(a){a=a.toLowerCase();return 0<="vere von van de del della di da pietro vanden du st. st la lo ter".split(" ").indexOf(a)};a.is_initial=function(a){a=this.removeIgnoredChars(a);return 1===a.length};a.is_camel_case=function(a){var c=/[a-z]+/;return/[A-Z]+/.exec(a)&&c.exec(a)};a.fix_case=function(a){a=this.safe_ucfirst("-",a);return a=this.safe_ucfirst(".",a)};a.safe_ucfirst=function(a,c){return c.split(a).map(function(a){return this.is_camel_case(a)?
a:a.substr(0,1).toUpperCase()+a.substr(1).toLowerCase()},this).join(a)};return a}();
(function(a){var f=/(^|&lt;|\s)(www\..+?\..+?)(\s|&gt;|$)/g,c=/(^|&lt;|\s)(((https?|ftp):\/\/|mailto:).+?)(\s|&gt;|$)/g,b=function(){for(var g=this.childNodes,e=g.length;e--;){var h=g[e];if(3==h.nodeType){var d=a.trim(h.nodeValue);d&&(d=d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(f,'$1<a href="http://$2" target="_blank">$2</a>$3').replace(c,'$1<a href="$2" target="_blank">$2</a>$5'),a(h).after(d).remove())}else 1!=h.nodeType||/^(a|button|textarea)$/i.test(h.tagName)||
b.call(h)}};a.fn.linkify=function(){return this.each(b)}})(jQuery);
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):"object"===typeof exports?a(require("jquery")):a(jQuery)})(function(a){function f(a){return g.raw?a:encodeURIComponent(a)}function c(c,f){var d;if(g.raw)d=c;else a:{var l=c;0===l.indexOf('"')&&(l=l.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{l=decodeURIComponent(l.replace(b," "));d=g.json?JSON.parse(l):l;break a}catch(m){}d=void 0}return a.isFunction(f)?f(d):d}var b=/\+/g,g=a.cookie=function(b,h,d){if(void 0!==
h&&!a.isFunction(h)){d=a.extend({},g.defaults,d);if("number"===typeof d.expires){var l=d.expires,m=d.expires=new Date;m.setTime(+m+864E5*l)}return document.cookie=[f(b),"=",f(g.json?JSON.stringify(h):String(h)),d.expires?"; expires="+d.expires.toUTCString():"",d.path?"; path="+d.path:"",d.domain?"; domain="+d.domain:"",d.secure?"; secure":""].join("")}d=b?void 0:{};for(var l=document.cookie?document.cookie.split("; "):[],m=0,q=l.length;m<q;m++){var t=l[m].split("="),r;r=t.shift();r=g.raw?r:decodeURIComponent(r);
t=t.join("=");if(b&&b===r){d=c(t,h);break}b||void 0===(t=c(t))||(d[r]=t)}return d};g.defaults={};a.removeCookie=function(b,c){if(void 0===a.cookie(b))return!1;a.cookie(b,"",a.extend({},c,{expires:-1}));return!a.cookie(b)}});
(function(a){var f={init:function(c){this.data("jqv")&&null!=this.data("jqv")||(c=f._saveOptions(this,c),a(document).on("click",".formError",function(){a(this).fadeOut(150,function(){a(this).closest(".formErrorOuter").remove()})}));return this},attach:function(c){c=c?f._saveOptions(this,c):this.data("jqv");c.validateAttribute=this.find("[data-validation-engine*=validate]").length?"data-validation-engine":"class";c.binded&&(this.on(c.validationEventTrigger,"["+c.validateAttribute+"*=validate]:not([type=checkbox]):not([type=radio]):not(.datepicker)",
f._onFieldEvent),this.on("click","["+c.validateAttribute+"*=validate][type=checkbox],["+c.validateAttribute+"*=validate][type=radio]",f._onFieldEvent),this.on(c.validationEventTrigger,"["+c.validateAttribute+"*=validate][class*=datepicker]",{delay:300},f._onFieldEvent));c.autoPositionUpdate&&a(window).bind("resize",{noAnimation:!0,formElem:this},f.updatePromptsPosition);this.on("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",
f._submitButtonClick);this.removeData("jqv_submitButton");this.on("submit",f._onSubmitEvent);return this},detach:function(){var c=this.data("jqv");this.off(c.validationEventTrigger,"["+c.validateAttribute+"*=validate]:not([type=checkbox]):not([type=radio]):not(.datepicker)",f._onFieldEvent);this.off("click","["+c.validateAttribute+"*=validate][type=checkbox],["+c.validateAttribute+"*=validate][type=radio]",f._onFieldEvent);this.off(c.validationEventTrigger,"["+c.validateAttribute+"*=validate][class*=datepicker]",
f._onFieldEvent);this.off("submit",f._onSubmitEvent);this.removeData("jqv");this.off("click","a[data-validation-engine-skip], a[class*='validate-skip'], button[data-validation-engine-skip], button[class*='validate-skip'], input[data-validation-engine-skip], input[class*='validate-skip']",f._submitButtonClick);this.removeData("jqv_submitButton");c.autoPositionUpdate&&a(window).off("resize",f.updatePromptsPosition);return this},validate:function(c){var b=a(this),g=null,e;if(b.is("form")||b.hasClass("validationEngineContainer")){if(b.hasClass("validating"))return!1;
b.addClass("validating");e=c?f._saveOptions(b,c):b.data("jqv");g=f._validateFields(this);setTimeout(function(){b.removeClass("validating")},100);if(g&&e.onSuccess)e.onSuccess();else if(!g&&e.onFailure)e.onFailure()}else if(b.is("form")||b.hasClass("validationEngineContainer"))b.removeClass("validating");else{var h=b.closest("form, .validationEngineContainer");e=h.data("jqv")?h.data("jqv"):a.validationEngine.defaults;g=f._validateField(b,e)}return e.onValidationComplete?!!e.onValidationComplete(h,
g):g},updatePromptsPosition:function(c){if(c&&this==window)var b=c.data.formElem,g=c.data.noAnimation;else b=a(this.closest("form, .validationEngineContainer"));var e=b.data("jqv");e||(e=f._saveOptions(b,e));b.find("["+e.validateAttribute+"*=validate]").not(":disabled").each(function(){var c=a(this);e.prettySelect&&c.is(":hidden")&&(c=b.find("#"+e.usePrefix+c.attr("id")+e.useSuffix));var d=f._getPrompt(c),l=a(d).find(".formErrorContent").html();d&&f._updatePrompt(c,a(d),l,void 0,!1,e,g)});return this},
showPrompt:function(a,b,g,e){var h=this.closest("form, .validationEngineContainer").data("jqv");h||(h=f._saveOptions(this,h));g&&(h.promptPosition=g);h.showArrow=!0==e;f._showPrompt(this,a,b,!1,h);return this},hide:function(){var c=a(this).closest("form, .validationEngineContainer"),b=c.data("jqv");b||(b=f._saveOptions(c,b));c=b&&b.fadeDuration?b.fadeDuration:0.3;b=a(this).is("form")||a(this).hasClass("validationEngineContainer")?"parentForm"+f._getClassName(a(this).attr("id")):f._getClassName(a(this).attr("id"))+
"formError";a("."+b).fadeTo(c,0.3,function(){a(this).closest(".formErrorOuter").remove()});return this},hideAll:function(){var c=this.data("jqv"),c=c?c.fadeDuration:300;a(".formError").fadeTo(c,300,function(){a(this).closest(".formErrorOuter").remove()});return this},_onFieldEvent:function(c){var b=a(this),g=b.closest("form, .validationEngineContainer"),e=g.data("jqv");e||(e=f._saveOptions(g,e));e.eventTrigger="field";!0==e.notEmpty?0<b.val().length&&window.setTimeout(function(){f._validateField(b,
e)},c.data?c.data.delay:0):window.setTimeout(function(){f._validateField(b,e)},c.data?c.data.delay:0)},_onSubmitEvent:function(){var c=a(this),b=c.data("jqv");if(c.data("jqv_submitButton")){var g=a("#"+c.data("jqv_submitButton"));if(g&&0<g.length&&(g.hasClass("validate-skip")||"true"==g.attr("data-validation-engine-skip")))return!0}b.eventTrigger="submit";return(g=f._validateFields(c))&&b.ajaxFormValidation?(f._validateFormWithAjax(c,b),!1):b.onValidationComplete?!!b.onValidationComplete(c,g):g},
_checkAjaxStatus:function(c){var b=!0;a.each(c.ajaxValidCache,function(a,c){if(!c)return b=!1});return b},_checkAjaxFieldStatus:function(a,b){return!0==b.ajaxValidCache[a]},_validateFields:function(c){var b=c.data("jqv"),g=!1;c.trigger("jqv.form.validating");var e=null;c.find("["+b.validateAttribute+"*=validate]").not(":disabled").each(function(){var d=a(this),h=[];if(0>a.inArray(d.attr("name"),h)){(g|=f._validateField(d,b))&&null==e&&(d.is(":hidden")&&b.prettySelect?e=d=c.find("#"+b.usePrefix+f._jqSelector(d.attr("id"))+
b.useSuffix):(d.data("jqv-prompt-at")instanceof jQuery?d=d.data("jqv-prompt-at"):d.data("jqv-prompt-at")&&(d=a(d.data("jqv-prompt-at"))),e=d));if(b.doNotShowAllErrosOnSubmit)return!1;h.push(d.attr("name"));if(!0==b.showOneMessage&&g)return!1}});c.trigger("jqv.form.result",[g]);if(g){if(b.scroll){var h=e.offset().top,d=e.offset().left,l=b.promptPosition;"string"==typeof l&&-1!=l.indexOf(":")&&(l=l.substring(0,l.indexOf(":")));"bottomRight"!=l&&"bottomLeft"!=l&&(l=f._getPrompt(e))&&(h=l.offset().top);
b.scrollOffset&&(h-=b.scrollOffset);if(b.isOverflown){l=a(b.overflownDIV);if(!l.length)return!1;d=l.scrollTop();l=-parseInt(l.offset().top);h+=d+l-5;a(b.overflownDIV).filter(":not(:animated)").animate({scrollTop:h},1100,function(){b.focusFirstField&&e.focus()})}else a("html, body").animate({scrollTop:h},1100,function(){b.focusFirstField&&e.focus()}),a("html, body").animate({scrollLeft:d},1100)}else b.focusFirstField&&e.focus();return!1}return!0},_validateFormWithAjax:function(c,b){var g=c.serialize(),
e=b.ajaxFormValidationMethod?b.ajaxFormValidationMethod:"GET",h=b.ajaxFormValidationURL?b.ajaxFormValidationURL:c.attr("action"),d=b.dataType?b.dataType:"json";a.ajax({type:e,url:h,cache:!1,dataType:d,data:g,form:c,methods:f,options:b,beforeSend:function(){return b.onBeforeAjaxFormValidation(c,b)},error:function(a,c){if(b.onFailure)b.onFailure(a,c);else f._ajaxError(a,c)},success:function(e){if("json"==d&&!0!==e){for(var g=!1,h=0;h<e.length;h++){var t=e[h],r=a(a("#"+t[0])[0]);if(1==r.length){var p=
t[2];!0==t[1]?""!=p&&p?(b.allrules[p]&&(t=b.allrules[p].alertTextOk)&&(p=t),b.showPrompts&&f._showPrompt(r,p,"pass",!1,b,!0)):f._closePrompt(r):(g|=1,b.allrules[p]&&(t=b.allrules[p].alertText)&&(p=t),b.showPrompts&&f._showPrompt(r,p,"",!1,b,!0))}}b.onAjaxFormComplete(!g,c,e,b)}else b.onAjaxFormComplete(!0,c,e,b)}})},_validateField:function(c,b,g){c.attr("id")||(c.attr("id","form-validation-field-"+a.validationEngine.fieldIdCounter),++a.validationEngine.fieldIdCounter);if(c.hasClass(b.ignoreFieldsWithClass)||
!b.validateNonVisibleFields&&(c.is(":hidden")&&!b.prettySelect||c.parent().is(":hidden")))return!1;var e=c.attr(b.validateAttribute),e=/validate\[(.*)\]/.exec(e);if(!e)return!1;var h=e[1],d=h.split(/\[|,|\]/),e=c.attr("name"),l="",m="",q=!1,t=!1;b.isError=!1;b.showArrow=!0;0<b.maxErrorsPerField&&(t=!0);for(var r=a(c.closest("form, .validationEngineContainer")),p=0;p<d.length;p++)d[p]=d[p].replace(" ",""),""===d[p]&&delete d[p];for(var v=p=0;p<d.length;p++){if(t&&v>=b.maxErrorsPerField){q||(g=a.inArray("required",
d),q=-1!=g&&g>=p);break}var s=void 0;switch(d[p]){case "required":q=!0;s=f._getErrorMessage(r,c,d[p],d,p,b,f._required);break;case "custom":s=f._getErrorMessage(r,c,d[p],d,p,b,f._custom);break;case "groupRequired":var u="["+b.validateAttribute+"*="+d[p+1]+"]",s=r.find(u).eq(0);s[0]!=c[0]&&(f._validateField(s,b,g),b.showArrow=!0);(s=f._getErrorMessage(r,c,d[p],d,p,b,f._groupRequired))&&(q=!0);b.showArrow=!1;break;case "ajax":(s=f._ajax(c,d,p,b))&&(m="load");break;case "minSize":s=f._getErrorMessage(r,
c,d[p],d,p,b,f._minSize);break;case "maxSize":s=f._getErrorMessage(r,c,d[p],d,p,b,f._maxSize);break;case "min":s=f._getErrorMessage(r,c,d[p],d,p,b,f._min);break;case "max":s=f._getErrorMessage(r,c,d[p],d,p,b,f._max);break;case "past":s=f._getErrorMessage(r,c,d[p],d,p,b,f._past);break;case "future":s=f._getErrorMessage(r,c,d[p],d,p,b,f._future);break;case "dateRange":u="["+b.validateAttribute+"*="+d[p+1]+"]";b.firstOfGroup=r.find(u).eq(0);b.secondOfGroup=r.find(u).eq(1);if(b.firstOfGroup[0].value||
b.secondOfGroup[0].value)s=f._getErrorMessage(r,c,d[p],d,p,b,f._dateRange);s&&(q=!0);b.showArrow=!1;break;case "dateTimeRange":u="["+b.validateAttribute+"*="+d[p+1]+"]";b.firstOfGroup=r.find(u).eq(0);b.secondOfGroup=r.find(u).eq(1);if(b.firstOfGroup[0].value||b.secondOfGroup[0].value)s=f._getErrorMessage(r,c,d[p],d,p,b,f._dateTimeRange);s&&(q=!0);b.showArrow=!1;break;case "maxCheckbox":c=a(r.find("input[name='"+e+"']"));s=f._getErrorMessage(r,c,d[p],d,p,b,f._maxCheckbox);break;case "minCheckbox":c=
a(r.find("input[name='"+e+"']"));s=f._getErrorMessage(r,c,d[p],d,p,b,f._minCheckbox);break;case "equals":s=f._getErrorMessage(r,c,d[p],d,p,b,f._equals);break;case "funcCall":s=f._getErrorMessage(r,c,d[p],d,p,b,f._funcCall);break;case "creditCard":s=f._getErrorMessage(r,c,d[p],d,p,b,f._creditCard);break;case "condRequired":s=f._getErrorMessage(r,c,d[p],d,p,b,f._condRequired);void 0!==s&&(q=!0);break;case "funcCallRequired":s=f._getErrorMessage(r,c,d[p],d,p,b,f._funcCallRequired),void 0!==s&&(q=!0)}u=
!1;if("object"==typeof s)switch(s.status){case "_break":u=!0;break;case "_error":s=s.message;break;case "_error_no_prompt":return!0}0==p&&0==h.indexOf("funcCallRequired")&&void 0!==s&&(l+=s+"<br/>",b.isError=!0,v++,u=!0);if(u)break;"string"==typeof s&&(l+=s+"<br/>",b.isError=!0,v++)}!q&&!c.val()&&1>c.val().length&&0>a.inArray("equals",d)&&(b.isError=!1);g=c.prop("type");d=c.data("promptPosition")||b.promptPosition;("radio"==g||"checkbox"==g)&&1<r.find("input[name='"+e+"']").size()&&(c="inline"===
d?a(r.find("input[name='"+e+"'][type!=hidden]:last")):a(r.find("input[name='"+e+"'][type!=hidden]:first")),b.showArrow=b.showArrowOnRadioAndCheckbox);c.is(":hidden")&&b.prettySelect&&(c=r.find("#"+b.usePrefix+f._jqSelector(c.attr("id"))+b.useSuffix));b.isError&&b.showPrompts?f._showPrompt(c,l,m,!1,b):f._closePrompt(c);c.trigger("jqv.field.result",[c,b.isError,l]);e=a.inArray(c[0],b.InvalidFields);-1==e?b.isError&&b.InvalidFields.push(c[0]):b.isError||b.InvalidFields.splice(e,1);f._handleStatusCssClasses(c,
b);if(b.isError&&b.onFieldFailure)b.onFieldFailure(c);if(!b.isError&&b.onFieldSuccess)b.onFieldSuccess(c);return b.isError},_handleStatusCssClasses:function(a,b){b.addSuccessCssClassToField&&a.removeClass(b.addSuccessCssClassToField);b.addFailureCssClassToField&&a.removeClass(b.addFailureCssClassToField);b.addSuccessCssClassToField&&!b.isError&&a.addClass(b.addSuccessCssClassToField);b.addFailureCssClassToField&&b.isError&&a.addClass(b.addFailureCssClassToField)},_getErrorMessage:function(c,b,g,e,
h,d,l){var m=jQuery.inArray(g,e);if("custom"===g||"funcCall"===g||"funcCallRequired"===g)g=g+"["+e[m+1]+"]",delete e[m];var m=g,q=(b.attr("data-validation-engine")?b.attr("data-validation-engine"):b.attr("class")).split(" ");c="future"==g||"past"==g||"maxCheckbox"==g||"minCheckbox"==g?l(c,b,e,h,d):l(b,e,h,d);void 0!=c&&(b=f._getCustomErrorMessage(a(b),q,m,d))&&(c=b);return c},_getCustomErrorMessage:function(a,b,g,e){var h=!1,h=/^custom\[.*\]$/.test(g)?f._validityProp.custom:f._validityProp[g];if(void 0!=
h&&(h=a.attr("data-errormessage-"+h),void 0!=h))return h;h=a.attr("data-errormessage");if(void 0!=h)return h;a="#"+a.attr("id");if("undefined"!=typeof e.custom_error_messages[a]&&"undefined"!=typeof e.custom_error_messages[a][g])h=e.custom_error_messages[a][g].message;else if(0<b.length)for(a=0;a<b.length&&0<b.length;a++){var d="."+b[a];if("undefined"!=typeof e.custom_error_messages[d]&&"undefined"!=typeof e.custom_error_messages[d][g]){h=e.custom_error_messages[d][g].message;break}}h||"undefined"==
typeof e.custom_error_messages[g]||"undefined"==typeof e.custom_error_messages[g].message||(h=e.custom_error_messages[g].message);return h},_validityProp:{required:"value-missing",custom:"custom-error",groupRequired:"value-missing",ajax:"custom-error",minSize:"range-underflow",maxSize:"range-overflow",min:"range-underflow",max:"range-overflow",past:"type-mismatch",future:"type-mismatch",dateRange:"type-mismatch",dateTimeRange:"type-mismatch",maxCheckbox:"range-overflow",minCheckbox:"range-underflow",
equals:"pattern-mismatch",funcCall:"custom-error",funcCallRequired:"custom-error",creditCard:"pattern-mismatch",condRequired:"value-missing"},_required:function(c,b,f,e,h){switch(c.prop("type")){case "radio":case "checkbox":if(h){if(!c.prop("checked"))return e.allrules[b[f]].alertTextCheckboxMultiple;break}h=c.closest("form, .validationEngineContainer");c=c.attr("name");if(0==h.find("input[name='"+c+"']:checked").size())return 1==h.find("input[name='"+c+"']:visible").size()?e.allrules[b[f]].alertTextCheckboxe:
e.allrules[b[f]].alertTextCheckboxMultiple;break;default:h=a.trim(c.val());var d=a.trim(c.attr("data-validation-placeholder"));c=a.trim(c.attr("placeholder"));if(!h||d&&h==d||c&&h==c)return e.allrules[b[f]].alertText}},_groupRequired:function(c,b,g,e){var h="["+e.validateAttribute+"*="+b[g+1]+"]",d=!1;c.closest("form, .validationEngineContainer").find(h).each(function(){if(!f._required(a(this),b,g,e))return d=!0,!1});if(!d)return e.allrules[b[g]].alertText},_custom:function(a,b,f,e){var h=b[f+1],
d=e.allrules[h];if(d)if(d.regex)if(b=d.regex,!b)alert("jqv:custom regex not found - "+h);else{if(!RegExp(b).test(a.val()))return e.allrules[h].alertText}else if(d.func)if(d=d.func,"function"!==typeof d)alert("jqv:custom parameter 'function' is no function - "+h);else{if(!d(a,b,f,e))return e.allrules[h].alertText}else alert("jqv:custom type not allowed "+h);else alert("jqv:custom rule not found - "+h)},_funcCall:function(a,b,f,e){var h=b[f+1];if(-1<h.indexOf(".")){for(var h=h.split("."),d=window;h.length;)d=
d[h.shift()];h=d}else h=window[h]||e.customFunctions[h];if("function"==typeof h)return h(a,b,f,e)},_funcCallRequired:function(a,b,g,e){return f._funcCall(a,b,g,e)},_equals:function(c,b,f,e){b=b[f+1];if(c.val()!=a("#"+b).val())return e.allrules.equals.alertText},_maxSize:function(a,b,f,e){b=b[f+1];if(a.val().length>b)return a=e.allrules.maxSize,a.alertText+b+a.alertText2},_minSize:function(a,b,f,e){b=b[f+1];if(a.val().length<b)return a=e.allrules.minSize,a.alertText+b+a.alertText2},_min:function(a,
b,f,e){b=parseFloat(b[f+1]);if(parseFloat(a.val())<b)return a=e.allrules.min,a.alertText2?a.alertText+b+a.alertText2:a.alertText+b},_max:function(a,b,f,e){b=parseFloat(b[f+1]);if(parseFloat(a.val())>b)return a=e.allrules.max,a.alertText2?a.alertText+b+a.alertText2:a.alertText+b},_past:function(c,b,g,e,h){g=g[e+1];c=a(c.find("*[name='"+g.replace(/^#+/,"")+"']"));if("now"==g.toLowerCase())c=new Date;else if(void 0!=c.val()){if(c.is(":disabled"))return;c=f._parseDate(c.val())}else c=f._parseDate(g);
if(f._parseDate(b.val())>c)return b=h.allrules.past,b.alertText2?b.alertText+f._dateToString(c)+b.alertText2:b.alertText+f._dateToString(c)},_future:function(c,b,g,e,h){g=g[e+1];c=a(c.find("*[name='"+g.replace(/^#+/,"")+"']"));if("now"==g.toLowerCase())c=new Date;else if(void 0!=c.val()){if(c.is(":disabled"))return;c=f._parseDate(c.val())}else c=f._parseDate(g);if(f._parseDate(b.val())<c)return b=h.allrules.future,b.alertText2?b.alertText+f._dateToString(c)+b.alertText2:b.alertText+f._dateToString(c)},
_isDate:function(a){return RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(?:(?:0?[1-9]|1[0-2])(\/|-)(?:0?[1-9]|1\d|2[0-8]))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^(0?2(\/|-)29)(\/|-)(?:(?:0[48]00|[13579][26]00|[2468][048]00)|(?:\d\d)?(?:0[48]|[2468][048]|[13579][26]))$/).test(a)},_isDateTime:function(a){return RegExp(/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1}$|^(?:(?:(?:0?[13578]|1[02])(\/|-)31)|(?:(?:0?[1,3-9]|1[0-2])(\/|-)(?:29|30)))(\/|-)(?:[1-9]\d\d\d|\d[1-9]\d\d|\d\d[1-9]\d|\d\d\d[1-9])$|^((1[012]|0?[1-9]){1}\/(0?[1-9]|[12][0-9]|3[01]){1}\/\d{2,4}\s+(1[012]|0?[1-9]){1}:(0?[1-5]|[0-6][0-9]){1}:(0?[0-6]|[0-6][0-9]){1}\s+(am|pm|AM|PM){1})$/).test(a)},
_dateCompare:function(a,b){return new Date(a.toString())<new Date(b.toString())},_dateRange:function(a,b,g,e){if(!e.firstOfGroup[0].value&&e.secondOfGroup[0].value||e.firstOfGroup[0].value&&!e.secondOfGroup[0].value||!f._isDate(e.firstOfGroup[0].value)||!f._isDate(e.secondOfGroup[0].value)||!f._dateCompare(e.firstOfGroup[0].value,e.secondOfGroup[0].value))return e.allrules[b[g]].alertText+e.allrules[b[g]].alertText2},_dateTimeRange:function(a,b,g,e){if(!e.firstOfGroup[0].value&&e.secondOfGroup[0].value||
e.firstOfGroup[0].value&&!e.secondOfGroup[0].value||!f._isDateTime(e.firstOfGroup[0].value)||!f._isDateTime(e.secondOfGroup[0].value)||!f._dateCompare(e.firstOfGroup[0].value,e.secondOfGroup[0].value))return e.allrules[b[g]].alertText+e.allrules[b[g]].alertText2},_maxCheckbox:function(a,b,f,e,h){f=f[e+1];b=b.attr("name");if(a.find("input[name='"+b+"']:checked").size()>f)return h.showArrow=!1,h.allrules.maxCheckbox.alertText2?h.allrules.maxCheckbox.alertText+" "+f+" "+h.allrules.maxCheckbox.alertText2:
h.allrules.maxCheckbox.alertText},_minCheckbox:function(a,b,f,e,h){f=f[e+1];b=b.attr("name");if(a.find("input[name='"+b+"']:checked").size()<f)return h.showArrow=!1,h.allrules.minCheckbox.alertText+" "+f+" "+h.allrules.minCheckbox.alertText2},_creditCard:function(a,b,f,e){f=!1;a=a.val().replace(/ +/g,"").replace(/-+/g,"");var h=a.length;if(14<=h&&16>=h&&0<parseInt(a)){b=0;f=h-1;var h=1,d,l=new String;do d=parseInt(a.charAt(f)),l+=0==h++%2?2*d:d;while(0<=--f);for(f=0;f<l.length;f++)b+=parseInt(l.charAt(f));
f=0==b%10}if(!f)return e.allrules.creditCard.alertText},_ajax:function(c,b,g,e){var h=e.allrules[b[g+1]];g=h.extraData;var d=h.extraDataDynamic;b={fieldId:c.attr("id"),fieldValue:c.val()};if("object"===typeof g)a.extend(b,g);else if("string"===typeof g){var l=g.split("&");for(g=0;g<l.length;g++){var m=l[g].split("=");m[0]&&m[0]&&(b[m[0]]=m[1])}}if(d)for(d=String(d).split(","),g=0;g<d.length;g++)l=d[g],a(l).length&&(m=c.closest("form, .validationEngineContainer").find(l).val(),l.replace("#",""),escape(m),
b[l.replace("#","")]=m);"field"==e.eventTrigger&&delete e.ajaxValidCache[c.attr("id")];if(!e.isError&&!f._checkAjaxFieldStatus(c.attr("id"),e))return a.ajax({type:e.ajaxFormValidationMethod,url:h.url,cache:!1,dataType:"json",data:b,field:c,rule:h,methods:f,options:e,beforeSend:function(){},error:function(a,b){if(e.onFailure)e.onFailure(a,b);else f._ajaxError(a,b)},success:function(b){var d=b[0],g=a("#"+d).eq(0);if(1==g.length){var m=b[2];b[1]?(e.ajaxValidCache[d]=!0,m?e.allrules[m]&&(b=e.allrules[m].alertTextOk)&&
(m=b):m=h.alertTextOk,e.showPrompts&&(m?f._showPrompt(g,m,"pass",!0,e):f._closePrompt(g)),"submit"==e.eventTrigger&&c.closest("form").submit()):(e.ajaxValidCache[d]=!1,e.isError=!0,m?e.allrules[m]&&(b=e.allrules[m].alertText)&&(m=b):m=h.alertText,e.showPrompts&&f._showPrompt(g,m,"",!0,e))}g.trigger("jqv.field.result",[g,e.isError,m])}}),h.alertTextLoad},_ajaxError:function(a,b){0==a.status&&null==b?alert("The page is not served from a server! ajax call failed"):"undefined"!=typeof console&&console.log("Ajax error: "+
a.status+" "+b)},_dateToString:function(a){return a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate()},_parseDate:function(a){var b=a.split("-");b==a&&(b=a.split("/"));return b==a?(b=a.split("."),new Date(b[2],b[1]-1,b[0])):new Date(b[0],b[1]-1,b[2])},_showPrompt:function(c,b,g,e,h,d){c.data("jqv-prompt-at")instanceof jQuery?c=c.data("jqv-prompt-at"):c.data("jqv-prompt-at")&&(c=a(c.data("jqv-prompt-at")));var l=f._getPrompt(c);d&&(l=!1);a.trim(b)&&(l?f._updatePrompt(c,l,b,g,e,h):f._buildPrompt(c,
b,g,e,h))},_buildPrompt:function(c,b,g,e,h){var d=a("<div>");d.addClass(f._getClassName(c.attr("id"))+"formError");d.addClass("parentForm"+f._getClassName(c.closest("form, .validationEngineContainer").attr("id")));d.addClass("formError");switch(g){case "pass":d.addClass("greenPopup");break;case "load":d.addClass("blackPopup")}e&&d.addClass("ajaxed");a("<div>").addClass("formErrorContent").html(b).appendTo(d);b=c.data("promptPosition")||h.promptPosition;if(h.showArrow)switch(g=a("<div>").addClass("formErrorArrow"),
"string"==typeof b&&(e=b.indexOf(":"),-1!=e&&(b=b.substring(0,e))),b){case "bottomLeft":case "bottomRight":d.find(".formErrorContent").before(g);g.addClass("formErrorArrowBottom").html('<div class="line1">\x3c!-- --\x3e</div><div class="line2">\x3c!-- --\x3e</div><div class="line3">\x3c!-- --\x3e</div><div class="line4">\x3c!-- --\x3e</div><div class="line5">\x3c!-- --\x3e</div><div class="line6">\x3c!-- --\x3e</div><div class="line7">\x3c!-- --\x3e</div><div class="line8">\x3c!-- --\x3e</div><div class="line9">\x3c!-- --\x3e</div><div class="line10">\x3c!-- --\x3e</div>');
break;case "topLeft":case "topRight":g.html('<div class="line10">\x3c!-- --\x3e</div><div class="line9">\x3c!-- --\x3e</div><div class="line8">\x3c!-- --\x3e</div><div class="line7">\x3c!-- --\x3e</div><div class="line6">\x3c!-- --\x3e</div><div class="line5">\x3c!-- --\x3e</div><div class="line4">\x3c!-- --\x3e</div><div class="line3">\x3c!-- --\x3e</div><div class="line2">\x3c!-- --\x3e</div><div class="line1">\x3c!-- --\x3e</div>'),d.append(g)}h.addPromptClass&&d.addClass(h.addPromptClass);g=c.attr("data-required-class");
void 0!==g?d.addClass(g):h.prettySelect&&a("#"+c.attr("id")).next().is("select")&&(g=a("#"+c.attr("id").substr(h.usePrefix.length).substring(h.useSuffix.length)).attr("data-required-class"),void 0!==g&&d.addClass(g));d.css({opacity:0});"inline"===b?(d.addClass("inline"),"undefined"!==typeof c.attr("data-prompt-target")&&0<a("#"+c.attr("data-prompt-target")).length?d.appendTo(a("#"+c.attr("data-prompt-target"))):c.after(d)):c.before(d);e=f._calculatePosition(c,d,h);d.css({position:"inline"===b?"relative":
"absolute",top:e.callerTopPosition,left:e.callerleftPosition,marginTop:e.marginTopSize,opacity:0}).data("callerField",c);h.autoHidePrompt&&setTimeout(function(){d.animate({opacity:0},function(){d.closest(".formErrorOuter").remove()})},h.autoHideDelay);return d.animate({opacity:0.87})},_updatePrompt:function(a,b,g,e,h,d,l){b&&("undefined"!==typeof e&&("pass"==e?b.addClass("greenPopup"):b.removeClass("greenPopup"),"load"==e?b.addClass("blackPopup"):b.removeClass("blackPopup")),h?b.addClass("ajaxed"):
b.removeClass("ajaxed"),b.find(".formErrorContent").html(g),a=f._calculatePosition(a,b,d),a={top:a.callerTopPosition,left:a.callerleftPosition,marginTop:a.marginTopSize,opacity:0.87},l?b.css(a):b.animate(a))},_closePrompt:function(a){var b=f._getPrompt(a);b&&b.fadeTo("fast",0,function(){b.closest(".formErrorOuter").remove()})},closePrompt:function(a){return f._closePrompt(a)},_getPrompt:function(c){var b=a(c).closest("form, .validationEngineContainer").attr("id");c=f._getClassName(c.attr("id"))+"formError";
if(b=a("."+f._escapeExpression(c)+".parentForm"+f._getClassName(b))[0])return a(b)},_escapeExpression:function(a){return a.replace(/([#;&,\.\+\*\~':"\!\^$\[\]\(\)=>\|])/g,"\\$1")},isRTL:function(c){var b=a(document),f=a("body");c=c&&c.hasClass("rtl")||c&&"rtl"===(c.attr("dir")||"").toLowerCase()||b.hasClass("rtl")||"rtl"===(b.attr("dir")||"").toLowerCase()||f.hasClass("rtl")||"rtl"===(f.attr("dir")||"").toLowerCase();return Boolean(c)},_calculatePosition:function(a,b,f){var e,h,d,l=a.width(),m=a.position().left,
q=a.position().top;a.height();d=b.height();e=h=0;d=-d;f=a.data("promptPosition")||f.promptPosition;var t="",r="",p=r=0;"string"==typeof f&&-1!=f.indexOf(":")&&(t=f.substring(f.indexOf(":")+1),f=f.substring(0,f.indexOf(":")),-1!=t.indexOf(",")&&(r=t.substring(t.indexOf(",")+1),t=t.substring(0,t.indexOf(",")),p=parseInt(r),isNaN(p)&&(p=0)),r=parseInt(t),isNaN(t));switch(f){default:case "topRight":h+=m+l-27;e+=q;break;case "topLeft":e+=q;h+=m;break;case "centerRight":e=q+4;d=0;h=m+a.outerWidth(!0)+5;
break;case "centerLeft":h=m-(b.width()+2);e=q+4;d=0;break;case "bottomLeft":e=q+a.height()+5;d=0;h=m;break;case "bottomRight":h=m+l-27;e=q+a.height()+5;d=0;break;case "inline":d=e=h=0}return{callerTopPosition:e+p+"px",callerleftPosition:h+r+"px",marginTopSize:d+"px"}},_saveOptions:function(c,b){if(a.validationEngineLanguage)var f=a.validationEngineLanguage.allRules;else a.error("jQuery.validationEngine rules are not loaded, plz add localization files to the page");a.validationEngine.defaults.allrules=
f;f=a.extend(!0,{},a.validationEngine.defaults,b);c.data("jqv",f);return f},_getClassName:function(a){if(a)return a.replace(/:/g,"_").replace(/\./g,"_")},_jqSelector:function(a){return a.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1")},_condRequired:function(a,b,g,e){var h;for(g+=1;g<b.length;g++)if(h=jQuery("#"+b[g]).first(),h.length&&void 0==f._required(h,["required"],0,e,!0))return f._required(a,["required"],0,e)},_submitButtonClick:function(c){c=a(this);c.closest("form, .validationEngineContainer").data("jqv_submitButton",
c.attr("id"))}};a.fn.validationEngine=function(c){var b=a(this);if(!b[0])return b;if("string"==typeof c&&"_"!=c.charAt(0)&&f[c])return"showPrompt"!=c&&"hide"!=c&&"hideAll"!=c&&f.init.apply(b),f[c].apply(b,Array.prototype.slice.call(arguments,1));if("object"!=typeof c&&c)a.error("Method "+c+" does not exist in jQuery.validationEngine");else return f.init.apply(b,arguments),f.attach.apply(b)};a.validationEngine={fieldIdCounter:0,defaults:{validationEventTrigger:"blur",scroll:!0,focusFirstField:!0,showPrompts:!0,
validateNonVisibleFields:!1,ignoreFieldsWithClass:"ignoreMe",promptPosition:"topRight",bindMethod:"bind",inlineAjax:!1,ajaxFormValidation:!1,ajaxFormValidationURL:!1,ajaxFormValidationMethod:"get",onAjaxFormComplete:a.noop,onBeforeAjaxFormValidation:a.noop,onValidationComplete:!1,doNotShowAllErrosOnSubmit:!1,custom_error_messages:{},binded:!0,notEmpty:!1,showArrow:!0,showArrowOnRadioAndCheckbox:!1,isError:!1,maxErrorsPerField:!1,ajaxValidCache:{},autoPositionUpdate:!1,InvalidFields:[],onFieldSuccess:!1,
onFieldFailure:!1,onSuccess:!1,onFailure:!1,validateAttribute:"class",addSuccessCssClassToField:"",addFailureCssClassToField:"",autoHidePrompt:!1,autoHideDelay:1E4,fadeDuration:0.3,prettySelect:!1,addPromptClass:"",usePrefix:"",useSuffix:"",showOneMessage:!1}};a(function(){a.validationEngine.defaults.promptPosition=f.isRTL()?"topLeft":"topRight"})})(jQuery);
(function(a){a.fn.validationEngineLanguage=function(){};a.validationEngineLanguage={newLang:function(){a.validationEngineLanguage.allRules={required:{regex:"none",alertText:"* This field is required",alertTextCheckboxMultiple:"* Please select an option",alertTextCheckboxe:"* This checkbox is required"},length:{regex:"none",alertText:"*Between ",alertText2:" and ",alertText3:" characters allowed"},maxCheckbox:{regex:"none",alertText:"* Checks allowed Exceeded"},minCheckbox:{regex:"none",alertText:"* Please select ",
alertText2:" options"},confirm:{regex:"none",alertText:"* Your field is not matching"},telephone:{regex:"/^[0-9-() ]+$/",alertText:"* Invalid phone number"},email:{regex:/^[a-zA-Z0-9_\.\-]+\@([a-zA-Z0-9\-]+\.)+[a-zA-Z0-9]{2,4}$/,alertText:"* Invalid email address"},date:{regex:"/^[0-9]{4}-[0-9]{1,2}-[0-9]{1,2}$/",alertText:"* Invalid date, must be in YYYY-MM-DD format"},onlyNumber:{regex:"/^[0-9 ]+$/",alertText:"* Numbers only"},noSpecialCaracters:{regex:"/^[0-9a-zA-Z]+$/",alertText:"* No special characters allowed"},
ajaxUser:{file:"validateUser.php",extraData:"name=eric",alertTextOk:"* This user is available",alertTextLoad:"* Loading, please wait",alertText:"* This user is already taken"},ajaxName:{file:"validateUser.php",alertText:"* This name is already taken",alertTextOk:"* This name is available",alertTextLoad:"* Loading, please wait"},onlyLetter:{regex:"/^[a-zA-Z ']+$/",alertText:"* Letters only"},validate2fields:{nname:"validate2fields",alertText:"* You must have a firstname and a lastname"},validateExpDate:{nname:"validateExpDate",
alertText:"* The expiration date is in the past"},validateAmount:{nname:"validateAmount",alertText:"* The amount field must 5 or more."},tripfiletypes:{regex:"/^.*.(jpg|jpeg|jpe|gif|png|bmp|tif|tiff|pdf|doc|docx)$/",alertText:"* This file type is not allowed."},requiredForm:{regex:"none",alertText:"*This field is required. If this field does not apply, enter '0' or 'n/a'"}}}};a.validationEngineLanguage.newLang()})(jQuery);
(function(a){"function"===typeof define&&define.amd?define(["jquery"],a):a("undefined"!=typeof jQuery?jQuery:window.Zepto)})(function(a){function f(b){var c=b.data;b.isDefaultPrevented()||(b.preventDefault(),a(b.target).ajaxSubmit(c))}function c(b){var c=b.target,e=a(c);if(!e.is("[type=submit],[type=image]")){c=e.closest("[type=submit]");if(0===c.length)return;c=c[0]}var f=this;f.clk=c;"image"==c.type&&(void 0!==b.offsetX?(f.clk_x=b.offsetX,f.clk_y=b.offsetY):"function"==typeof a.fn.offset?(e=e.offset(),
f.clk_x=b.pageX-e.left,f.clk_y=b.pageY-e.top):(f.clk_x=b.pageX-c.offsetLeft,f.clk_y=b.pageY-c.offsetTop));setTimeout(function(){f.clk=f.clk_x=f.clk_y=null},100)}function b(){if(a.fn.ajaxSubmit.debug){var b="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(b):window.opera&&window.opera.postError&&window.opera.postError(b)}}var g,e;g=void 0!==a("<input type='file'/>").get(0).files;e=void 0!==window.FormData;var h=!!a.fn.prop;a.fn.attr2=function(){if(!h)return this.attr.apply(this,
arguments);var a=this.prop.apply(this,arguments);return a&&a.jquery||"string"===typeof a?a:this.attr.apply(this,arguments)};a.fn.ajaxSubmit=function(c){function f(b){b=a.param(b,c.traditional).split("&");var e=b.length,g=[],h,k;for(h=0;h<e;h++)b[h]=b[h].replace(/\+/g," "),k=b[h].split("="),g.push([decodeURIComponent(k[0]),decodeURIComponent(k[1])]);return g}function m(b){for(var e=new FormData,g=0;g<b.length;g++)e.append(b[g].name,b[g].value);if(c.extraData)for(b=f(c.extraData),g=0;g<b.length;g++)b[g]&&
e.append(b[g][0],b[g][1]);c.data=null;g=a.extend(!0,{},a.ajaxSettings,c,{contentType:!1,processData:!1,cache:!1,type:t||"POST"});c.uploadProgress&&(g.xhr=function(){var b=a.ajaxSettings.xhr();b.upload&&b.upload.addEventListener("progress",function(a){var b=0,e=a.loaded||a.position,f=a.total;a.lengthComputable&&(b=Math.ceil(e/f*100));c.uploadProgress(a,e,f,b)},!1);return b});g.data=null;var h=g.beforeSend;g.beforeSend=function(a,b){b.data=c.formData?c.formData:e;h&&h.call(this,a,b)};return a.ajax(g)}
function q(e){function f(a){var c=null;try{a.contentWindow&&(c=a.contentWindow.document)}catch(d){b("cannot get iframe.contentWindow document: "+d)}if(c)return c;try{c=a.contentDocument?a.contentDocument:a.document}catch(e){b("cannot get iframe.contentDocument: "+e),c=a.document}return c}function g(){function c(){try{var a=f(I).readyState;b("state = "+a);a&&"uninitialized"==a.toLowerCase()&&setTimeout(c,50)}catch(d){b("Server abort: ",d," (",d.name,")"),k(z),G&&clearTimeout(G),G=void 0}}var d=p.attr2("target"),
e=p.attr2("action"),h=p.attr("enctype")||p.attr("encoding")||"multipart/form-data";m.setAttribute("target",u);t&&!/post/i.test(t)||m.setAttribute("method","POST");e!=l.url&&m.setAttribute("action",l.url);l.skipEncodingOverride||t&&!/post/i.test(t)||p.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"});l.timeout&&(G=setTimeout(function(){x=!0;k(y)},l.timeout));var q=[];try{if(l.extraData)for(var r in l.extraData)l.extraData.hasOwnProperty(r)&&(a.isPlainObject(l.extraData[r])&&l.extraData[r].hasOwnProperty("name")&&
l.extraData[r].hasOwnProperty("value")?q.push(a('<input type="hidden" name="'+l.extraData[r].name+'">').val(l.extraData[r].value).appendTo(m)[0]):q.push(a('<input type="hidden" name="'+r+'">').val(l.extraData[r]).appendTo(m)[0]));l.iframeTarget||v.appendTo("body");I.attachEvent?I.attachEvent("onload",k):I.addEventListener("load",k,!1);setTimeout(c,15);try{m.submit()}catch(n){document.createElement("form").submit.apply(m)}}finally{m.setAttribute("action",e),m.setAttribute("enctype",h),d?m.setAttribute("target",
d):p.removeAttr("target"),a(q).remove()}}function k(c){if(!w.aborted&&!O)if(H=f(I),H||(b("cannot access response document"),c=z),c===y&&w)w.abort("timeout"),n.reject(w,"timeout");else if(c==z&&w)w.abort("server abort"),n.reject(w,"error","server abort");else if(H&&H.location.href!=l.iframeSrc||x){I.detachEvent?I.detachEvent("onload",k):I.removeEventListener("load",k,!1);c="success";var d;try{if(x)throw"timeout";var e="xml"==l.dataType||H.XMLDocument||a.isXMLDoc(H);b("isXml="+e);if(!e&&window.opera&&
(null===H.body||!H.body.innerHTML)&&--F){b("requeing onLoad callback, DOM not available");setTimeout(k,250);return}var g=H.body?H.body:H.documentElement;w.responseText=g?g.innerHTML:null;w.responseXML=H.XMLDocument?H.XMLDocument:H;e&&(l.dataType="xml");w.getResponseHeader=function(a){return{"content-type":l.dataType}[a.toLowerCase()]};g&&(w.status=Number(g.getAttribute("status"))||w.status,w.statusText=g.getAttribute("statusText")||w.statusText);var h=(l.dataType||"").toLowerCase(),m=/(json|script|text)/.test(h);
if(m||l.textarea){var q=H.getElementsByTagName("textarea")[0];if(q)w.responseText=q.value,w.status=Number(q.getAttribute("status"))||w.status,w.statusText=q.getAttribute("statusText")||w.statusText;else if(m){var p=H.getElementsByTagName("pre")[0],t=H.getElementsByTagName("body")[0];p?w.responseText=p.textContent?p.textContent:p.innerText:t&&(w.responseText=t.textContent?t.textContent:t.innerText)}}else"xml"==h&&!w.responseXML&&w.responseText&&(w.responseXML=fa(w.responseText));try{Y=S(w,h,l)}catch(s){c=
"parsererror",w.error=d=s||c}}catch(u){b("error caught: ",u),c="error",w.error=d=u||c}w.aborted&&(b("upload aborted"),c=null);w.status&&(c=200<=w.status&&300>w.status||304===w.status?"success":"error");"success"===c?(l.success&&l.success.call(l.context,Y,"success",w),n.resolve(w.responseText,"success",w),r&&a.event.trigger("ajaxSuccess",[w,l])):c&&(void 0===d&&(d=w.statusText),l.error&&l.error.call(l.context,w,c,d),n.reject(w,"error",d),r&&a.event.trigger("ajaxError",[w,l,d]));r&&a.event.trigger("ajaxComplete",
[w,l]);r&&!--a.active&&a.event.trigger("ajaxStop");l.complete&&l.complete.call(l.context,w,c);O=!0;l.timeout&&clearTimeout(G);setTimeout(function(){l.iframeTarget?v.attr("src",l.iframeSrc):v.remove();w.responseXML=null},100)}}var m=p[0],q,l,r,u,v,I,w,x,G,n=a.Deferred();n.abort=function(a){w.abort(a)};if(e)for(q=0;q<s.length;q++)e=a(s[q]),h?e.prop("disabled",!1):e.removeAttr("disabled");l=a.extend(!0,{},a.ajaxSettings,c);l.context=l.context||l;u="jqFormIO"+(new Date).getTime();l.iframeTarget?(v=a(l.iframeTarget),
(q=v.attr2("name"))?u=q:v.attr2("name",u)):(v=a('<iframe name="'+u+'" src="'+l.iframeSrc+'" />'),v.css({position:"absolute",top:"-1000px",left:"-1000px"}));I=v[0];w={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(c){var d="timeout"===c?"timeout":"aborted";b("aborting upload... "+d);this.aborted=1;try{I.contentWindow.document.execCommand&&I.contentWindow.document.execCommand("Stop")}catch(e){}v.attr("src",
l.iframeSrc);w.error=d;l.error&&l.error.call(l.context,w,d,c);r&&a.event.trigger("ajaxError",[w,l,d]);l.complete&&l.complete.call(l.context,w,d)}};(r=l.global)&&0===a.active++&&a.event.trigger("ajaxStart");r&&a.event.trigger("ajaxSend",[w,l]);if(l.beforeSend&&!1===l.beforeSend.call(l.context,w,l))return l.global&&a.active--,n.reject(),n;if(w.aborted)return n.reject(),n;(e=m.clk)&&(q=e.name)&&!e.disabled&&(l.extraData=l.extraData||{},l.extraData[q]=e.value,"image"==e.type&&(l.extraData[q+".x"]=m.clk_x,
l.extraData[q+".y"]=m.clk_y));var y=1,z=2;e=a("meta[name=csrf-token]").attr("content");(q=a("meta[name=csrf-param]").attr("content"))&&e&&(l.extraData=l.extraData||{},l.extraData[q]=e);l.forceSync?g():setTimeout(g,10);var Y,H,F=50,O,fa=a.parseXML||function(a,b){window.ActiveXObject?(b=new ActiveXObject("Microsoft.XMLDOM"),b.async="false",b.loadXML(a)):b=(new DOMParser).parseFromString(a,"text/xml");return b&&b.documentElement&&"parsererror"!=b.documentElement.nodeName?b:null},ba=a.parseJSON||function(a){return window.eval("("+
a+")")},S=function(b,c,d){var e=b.getResponseHeader("content-type")||"",f="xml"===c||!c&&0<=e.indexOf("xml");b=f?b.responseXML:b.responseText;f&&"parsererror"===b.documentElement.nodeName&&a.error&&a.error("parsererror");d&&d.dataFilter&&(b=d.dataFilter(b,c));"string"===typeof b&&("json"===c||!c&&0<=e.indexOf("json")?b=ba(b):("script"===c||!c&&0<=e.indexOf("javascript"))&&a.globalEval(b));return b};return n}if(!this.length)return b("ajaxSubmit: skipping submit process - no element selected"),this;
var t,r,p=this;"function"==typeof c?c={success:c}:void 0===c&&(c={});t=c.type||this.attr2("method");r=c.url||this.attr2("action");(r=(r="string"===typeof r?a.trim(r):"")||window.location.href||"")&&(r=(r.match(/^([^#]+)/)||[])[1]);c=a.extend(!0,{url:r,success:a.ajaxSettings.success,type:t||a.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},c);r={};this.trigger("form-pre-serialize",[this,c,r]);if(r.veto)return b("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),
this;if(c.beforeSerialize&&!1===c.beforeSerialize(this,c))return b("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var v=c.traditional;void 0===v&&(v=a.ajaxSettings.traditional);var s=[],u,k=this.formToArray(c.semantic,s);c.data&&(c.extraData=c.data,u=a.param(c.data,v));if(c.beforeSubmit&&!1===c.beforeSubmit(k,this,c))return b("ajaxSubmit: submit aborted via beforeSubmit callback"),this;this.trigger("form-submit-validate",[k,this,c,r]);if(r.veto)return b("ajaxSubmit: submit vetoed via form-submit-validate trigger"),
this;r=a.param(k,v);u&&(r=r?r+"&"+u:u);"GET"==c.type.toUpperCase()?(c.url+=(0<=c.url.indexOf("?")?"&":"?")+r,c.data=null):c.data=r;var y=[];c.resetForm&&y.push(function(){p.resetForm()});c.clearForm&&y.push(function(){p.clearForm(c.includeHidden)});if(!c.dataType&&c.target){var x=c.success||function(){};y.push(function(b){var e=c.replaceTarget?"replaceWith":"html";a(c.target)[e](b).each(x,arguments)})}else c.success&&y.push(c.success);c.success=function(a,b,e){for(var f=c.context||this,g=0,h=y.length;g<
h;g++)y[g].apply(f,[a,b,e||p,p])};if(c.error){var z=c.error;c.error=function(a,b,e){z.apply(c.context||this,[a,b,e,p])}}if(c.complete){var O=c.complete;c.complete=function(a,b){O.apply(c.context||this,[a,b,p])}}u=0<a("input[type=file]:enabled",this).filter(function(){return""!==a(this).val()}).length;r="multipart/form-data"==p.attr("enctype")||"multipart/form-data"==p.attr("encoding");v=g&&e;b("fileAPI :"+v);var F;!1!==c.iframe&&(c.iframe||(u||r)&&!v)?c.closeKeepAlive?a.get(c.closeKeepAlive,function(){F=
q(k)}):F=q(k):F=(u||r)&&v?m(k):a.ajax(c);p.removeData("jqxhr").data("jqxhr",F);for(u=0;u<s.length;u++)s[u]=null;this.trigger("form-submit-notify",[this,c]);return this};a.fn.ajaxForm=function(d){d=d||{};d.delegation=d.delegation&&a.isFunction(a.fn.on);if(!d.delegation&&0===this.length){var e=this.selector,g=this.context;if(!a.isReady&&e)return b("DOM not ready, queuing ajaxForm"),a(function(){a(e,g).ajaxForm(d)}),this;b("terminating; zero elements found by selector"+(a.isReady?"":" (DOM not ready)"));
return this}return d.delegation?(a(document).off("submit.form-plugin",this.selector,f).off("click.form-plugin",this.selector,c).on("submit.form-plugin",this.selector,d,f).on("click.form-plugin",this.selector,d,c),this):this.ajaxFormUnbind().bind("submit.form-plugin",d,f).bind("click.form-plugin",d,c)};a.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};a.fn.formToArray=function(b,c){var e=[];if(0===this.length)return e;var f=this[0],h=this.attr("id"),r=b?f.getElementsByTagName("*"):
f.elements;r&&!/MSIE [678]/.test(navigator.userAgent)&&(r=a(r).get());h&&(h=a(':input[form="'+h+'"]').get(),h.length&&(r=(r||[]).concat(h)));if(!r||!r.length)return e;var p,v,s,u,k;p=0;for(k=r.length;p<k;p++)if(u=r[p],(h=u.name)&&!u.disabled)if(b&&f.clk&&"image"==u.type)f.clk==u&&(e.push({name:h,value:a(u).val(),type:u.type}),e.push({name:h+".x",value:f.clk_x},{name:h+".y",value:f.clk_y}));else if((s=a.fieldValue(u,!0))&&s.constructor==Array)for(c&&c.push(u),v=0,u=s.length;v<u;v++)e.push({name:h,
value:s[v]});else if(g&&"file"==u.type)if(c&&c.push(u),s=u.files,s.length)for(v=0;v<s.length;v++)e.push({name:h,value:s[v],type:u.type});else e.push({name:h,value:"",type:u.type});else null!==s&&"undefined"!=typeof s&&(c&&c.push(u),e.push({name:h,value:s,type:u.type,required:u.required}));!b&&f.clk&&(r=a(f.clk),p=r[0],(h=p.name)&&!p.disabled&&"image"==p.type&&(e.push({name:h,value:r.val()}),e.push({name:h+".x",value:f.clk_x},{name:h+".y",value:f.clk_y})));return e};a.fn.formSerialize=function(b){return a.param(this.formToArray(b))};
a.fn.fieldSerialize=function(b){var c=[];this.each(function(){var e=this.name;if(e){var f=a.fieldValue(this,b);if(f&&f.constructor==Array)for(var g=0,h=f.length;g<h;g++)c.push({name:e,value:f[g]});else null!==f&&"undefined"!=typeof f&&c.push({name:this.name,value:f})}});return a.param(c)};a.fn.fieldValue=function(b){for(var c=[],e=0,f=this.length;e<f;e++){var g=a.fieldValue(this[e],b);null===g||"undefined"==typeof g||g.constructor==Array&&!g.length||(g.constructor==Array?a.merge(c,g):c.push(g))}return c};
a.fieldValue=function(b,c){var e=b.name,f=b.type,g=b.tagName.toLowerCase();void 0===c&&(c=!0);if(c&&(!e||b.disabled||"reset"==f||"button"==f||("checkbox"==f||"radio"==f)&&!b.checked||("submit"==f||"image"==f)&&b.form&&b.form.clk!=b||"select"==g&&-1==b.selectedIndex))return null;if("select"==g){var h=b.selectedIndex;if(0>h)return null;for(var e=[],g=b.options,p=(f="select-one"==f)?h+1:g.length,h=f?h:0;h<p;h++){var v=g[h];if(v.selected){var s=v.value;s||(s=v.attributes&&v.attributes.value&&!v.attributes.value.specified?
v.text:v.value);if(f)return s;e.push(s)}}return e}return a(b).val()};a.fn.clearForm=function(b){return this.each(function(){a("input,select,textarea",this).clearFields(b)})};a.fn.clearFields=a.fn.clearInputs=function(b){var c=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var e=this.type,f=this.tagName.toLowerCase();c.test(e)||"textarea"==f?this.value="":"checkbox"==e||"radio"==e?this.checked=!1:"select"==f?this.selectedIndex=
-1:"file"==e?/MSIE/.test(navigator.userAgent)?a(this).replaceWith(a(this).clone(!0)):a(this).val(""):b&&(!0===b&&/hidden/.test(e)||"string"==typeof b&&a(this).is(b))&&(this.value="")})};a.fn.resetForm=function(){return this.each(function(){("function"==typeof this.reset||"object"==typeof this.reset&&!this.reset.nodeType)&&this.reset()})};a.fn.enable=function(a){void 0===a&&(a=!0);return this.each(function(){this.disabled=!a})};a.fn.selected=function(b){void 0===b&&(b=!0);return this.each(function(){var c=
this.type;"checkbox"==c||"radio"==c?this.checked=b:"option"==this.tagName.toLowerCase()&&(c=a(this).parent("select"),b&&c[0]&&"select-one"==c[0].type&&c.find("option").selected(!1),this.selected=b)})};a.fn.ajaxSubmit.debug=!1});
window.Modernizr=function(a,f,c){var b={},g=f.documentElement,e=f.createElement("modernizr"),e=e.style,h=" -webkit- -moz- -o- -ms- ".split(" "),d={},l=[],m=l.slice,q,t=function(a,b,c,d){var e,h,m,l,q=f.createElement("div"),r=f.body,p=r||f.createElement("body");if(parseInt(c,10))for(;c--;)m=f.createElement("div"),m.id=d?d[c]:"modernizr"+(c+1),q.appendChild(m);return e=['&#173;<style id="smodernizr">',a,"</style>"].join(""),q.id="modernizr",(r?q:p).innerHTML+=e,p.appendChild(q),r||(p.style.background=
"",p.style.overflow="hidden",l=g.style.overflow,g.style.overflow="hidden",g.appendChild(p)),h=b(q,a),r?q.parentNode.removeChild(q):(p.parentNode.removeChild(p),g.style.overflow=l),!!h},r={}.hasOwnProperty,p;"undefined"!==typeof r&&"undefined"!==typeof r.call?p=function(a,b){return r.call(a,b)}:p=function(a,b){return b in a&&"undefined"===typeof a.constructor.prototype[b]};Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=m.call(arguments,
1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var e=new e,f=b.apply(e,c.concat(m.call(arguments)));return Object(f)===f?f:e}return b.apply(a,c.concat(m.call(arguments)))};return d});d.touch=function(){var b;return"ontouchstart"in a||a.DocumentTouch&&f instanceof DocumentTouch?b=!0:t(["@media (",h.join("touch-enabled),("),"modernizr){#modernizr{top:9px;position:absolute}}"].join(""),function(a){b=9===a.offsetTop}),b};for(var v in d)p(d,v)&&(q=v.toLowerCase(),b[q]=
d[v](),l.push((b[q]?"":"no-")+q));b.addTest=function(a,d){if("object"==typeof a)for(var e in a)p(a,e)&&b.addTest(e,a[e]);else{a=a.toLowerCase();if(b[a]!==c)return b;d="function"==typeof d?d():d;g.className+=" "+(d?"":"no-")+a;b[a]=d}return b};e.cssText="";return e=null,function(a,b){function c(){var a=N.elements;return"string"==typeof a?a.split(" "):a}function d(a){var b=t[a[r]];return b||(b={},p++,a[r]=p,t[p]=b),b}function e(a,c,f){c||(c=b);if(v)return c.createElement(a);f||(f=d(c));var g;return f.cache[a]?
g=f.cache[a].cloneNode():l.test(a)?g=(f.cache[a]=f.createElem(a)).cloneNode():g=f.createElem(a),!g.canHaveChildren||m.test(a)||g.tagUrn?g:f.frag.appendChild(g)}function f(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag());a.createElement=function(c){return N.shivMethods?e(c,a,b):b.createElem(c)};a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+c().join().replace(/[\w\-]+/g,
function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(N,b.frag)}function g(a){a||(a=b);var c=d(a);if(N.shivCSS&&!q&&!c.hasCSS){var e,h=a;e=h.createElement("p");h=h.getElementsByTagName("head")[0]||h.documentElement;e=(e.innerHTML="x<style>article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}</style>",h.insertBefore(e.lastChild,h.firstChild));c.hasCSS=!!e}return v||f(a,c),
a}var h=a.html5||{},m=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,l=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,q,r="_html5shiv",p=0,t={},v;(function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>";q="hidden"in a;var c;if(!(c=1==a.childNodes.length)){b.createElement("a");var d=b.createDocumentFragment();c="undefined"==typeof d.cloneNode||"undefined"==typeof d.createDocumentFragment||"undefined"==typeof d.createElement}v=
c}catch(e){v=q=!0}})();var N={elements:h.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:"3.7.0",shivCSS:!1!==h.shivCSS,supportsUnknownElements:v,shivMethods:!1!==h.shivMethods,type:"default",shivDocument:g,createElement:e,createDocumentFragment:function(a,e){a||(a=b);if(v)return a.createDocumentFragment();e=e||d(a);for(var f=e.frag.cloneNode(),g=0,h=
c(),m=h.length;g<m;g++)f.createElement(h[g]);return f}};a.html5=N;g(b)}(this,f),b._version="2.8.3",b._prefixes=h,b.testStyles=t,g.className=g.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(" js "+l.join(" ")),b}(this,this.document);
(function(a,f,c){function b(a){return"[object Function]"==v.call(a)}function g(a){return"string"==typeof a}function e(){}function h(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function d(){var a=s.shift();u=1;a?a.t?r(function(){("c"==a.t?D.injectCss:D.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),d()):u=0}function l(a,b,c,e,g,k,m){function l(c){if(!n&&h(q.readyState)&&(v.r=n=1,!u&&d(),q.onload=q.onreadystatechange=null,c)){"img"!=a&&r(function(){x.removeChild(q)},50);for(var e in A[b])A[b].hasOwnProperty(e)&&
A[b][e].onload()}}m=m||D.errorTimeout;var q=f.createElement(a),n=0,t=0,v={t:c,s:b,e:g,a:k,x:m};1===A[b]&&(t=1,A[b]=[]);"object"==a?q.data=b:(q.src=b,q.type=a);q.width=q.height="0";q.onerror=q.onload=q.onreadystatechange=function(){l.call(this,t)};s.splice(e,0,v);"img"!=a&&(t||2===A[b]?(x.insertBefore(q,y?null:p),r(l,m)):A[b].push(q))}function m(a,b,c,e,f){return u=0,b=b||"j",g(a)?l("c"==b?O:z,a,b,this.i++,c,e,f):(s.splice(this.i++,0,a),1==s.length&&d()),this}function q(){var a=D;return a.loader={load:m,
i:0},a}var t=f.documentElement,r=a.setTimeout,p=f.getElementsByTagName("script")[0],v={}.toString,s=[],u=0,k="MozAppearance"in t.style,y=k&&!!f.createRange().compareNode,x=y?t:p.parentNode,t=a.opera&&"[object Opera]"==v.call(a.opera),t=!!f.attachEvent&&!t,z=k?"object":t?"script":"img",O=t?"script":z,F=Array.isArray||function(a){return"[object Array]"==v.call(a)},P=[],A={},C={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}},K,D;D=function(a){function d(a){a=a.split("!");var b=P.length,c=
a.pop(),e=a.length,c={url:c,origUrl:c,prefixes:a},f,g,h;for(g=0;g<e;g++)h=a[g].split("="),(f=C[h.shift()])&&(c=f(c,h));for(g=0;g<b;g++)c=P[g](c);return c}function f(a,e,g,h,k){var m=d(a),l=m.autoCallback;m.url.split(".").pop().split("?").shift();m.bypass||(e&&(e=b(e)?e:e[a]||e[h]||e[a.split("/").pop().split("?")[0]]),m.instead?m.instead(a,e,g,h,k):(A[m.url]?m.noexec=!0:A[m.url]=1,g.load(m.url,m.forceCSS||!m.forceJS&&"css"==m.url.split(".").pop().split("?").shift()?"c":c,m.noexec,m.attrs,m.timeout),
(b(e)||b(l))&&g.load(function(){q();e&&e(m.origUrl,k,h);l&&l(m.origUrl,k,h);A[m.url]=2})))}function h(a,c){function d(a,e){if(a)if(g(a))e||(l=function(){var a=[].slice.call(arguments);q.apply(this,a);r()}),f(a,l,c,0,k);else{if(Object(a)===a)for(t in p=function(){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b}(),a)a.hasOwnProperty(t)&&(!e&&!--p&&(b(l)?l=function(){var a=[].slice.call(arguments);q.apply(this,a);r()}:l[t]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,
b);r()}}(q[t])),f(a[t],l,c,t,k))}else!e&&r()}var k=!!a.test,m=a.load||a.both,l=a.callback||e,q=l,r=a.complete||e,p,t;d(k?a.yep:a.nope,!!m);m&&d(m)}var k,m,l=this.yepnope.loader;if(g(a))f(a,0,l,0);else if(F(a))for(k=0;k<a.length;k++)m=a[k],g(m)?f(m,0,l,0):F(m)?D(m):Object(m)===m&&h(m,l);else Object(a)===a&&h(a,l)};D.addPrefix=function(a,b){C[a]=b};D.addFilter=function(a){P.push(a)};D.errorTimeout=1E4;null==f.readyState&&f.addEventListener&&(f.readyState="loading",f.addEventListener("DOMContentLoaded",
K=function(){f.removeEventListener("DOMContentLoaded",K,0);f.readyState="complete"},0));a.yepnope=q();a.yepnope.executeStack=d;a.yepnope.injectJs=function(a,b,c,g,k,m){var l=f.createElement("script"),q,t;g=g||D.errorTimeout;l.src=a;for(t in c)l.setAttribute(t,c[t]);b=m?d:b||e;l.onreadystatechange=l.onload=function(){!q&&h(l.readyState)&&(q=1,b(),l.onload=l.onreadystatechange=null)};r(function(){q||(q=1,b(1))},g);k?l.onload():p.parentNode.insertBefore(l,p)};a.yepnope.injectCss=function(a,b,c,g,h,k){g=
f.createElement("link");var m;b=k?d:b||e;g.href=a;g.rel="stylesheet";g.type="text/css";for(m in c)g.setAttribute(m,c[m]);h||(p.parentNode.insertBefore(g,p),r(b,0))}})(this,document);Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))};
if(void 0===typeof cure||void 0===cure)var cure={standardDateFormat:function(a){_.isFunction(a.getDate)||"undefined"==typeof a.date||(a=new Date(a.date));_.isString(a)&&(a=new Date(a));_.isNumber(a)&&(a=new Date(1E3*a));return("0"+(a.getMonth()+1)).slice(-2)+"/"+("0"+a.getDate()).slice(-2)+"/"+a.getFullYear()},html5Date:function(a){_.isFunction(a.getDate)||"undefined"==typeof a.date||(a=new Date(a.date));_.isString(a)&&(a=new Date(a));_.isNumber(a)&&(a=new Date(1E3*a));return a.getFullYear()+"-"+
("0"+(a.getMonth()+1)).slice(-2)+"-"+("0"+a.getDate()).slice(-2)},dateToMonthYear:function(a){return a.toLocaleString("en-us",{month:"long",year:"numeric"})},dateToAmPm:function(a,f){var c,b,g,e;c=a.getHours();b=a.getMinutes();g=a.getSeconds();e=12<=c?"PM":"AM";c=(c%=12)?c:12;b=10>b?"0"+b:b;return!_.isUndefined(f)&&f?c+":"+b+":"+("0"+g).slice(-2)+" "+e:c+":"+b+" "+e}};cure.isUndefined=function(a){return void 0===a||void 0===typeof a};if(cure.isUndefined(fvpdata))var fvpdata={};if(cure.isUndefined(cure_user))var cure_user;
if(cure.isUndefined(ckprofile))var ckprofile;if(cure.isUndefined(grecaptcha))var grecaptcha;cure.isUndefined(NameParse);if(cure.isUndefined(_hsq))var _hsq=window._hsq=window._hsq||[];if(cure.isUndefined(newrelic))var newrelic;
var grecaptchaOnLoad=function(){var a={sitekey:"6Lf_dAYTAAAAAMUiw9DNliN-Jq2z_10nc_Hh-eU3"};if(-1<window.location.href.indexOf("local.cure.org")||-1<window.location.href.indexOf("local-beta.cure.org"))a.sitekey="6LdqSAYTAAAAACK1yAcHiD5FuT0c9W4s2SGvAS1A";void 0!==grecaptcha&&document.getElementById("google-recaptcha")&&grecaptcha.render("google-recaptcha",a)};
jQuery(function(a){a.fn.scrollToId=function(b){b&&a("html,body").animate({scrollTop:a("#"+b).offset().top},"slow")};gascrolldepth.init({});a.extend(cure,{REQUEST_URI:"",HTTP_REFERER:"",closePleaseWait:function(){a("#please_wait, #getwell_please_wait, #donate_please_wait").modal("hide")},popup:function(b,c){var d={title:"",msg:"",url:"",details:""},f="";"object"===typeof b&&(c=b,b=void 0);void 0===b&&(b="message");f={pleaseWait:{id:"#please_wait",title:"Please wait...",msg:"We're processing your request.",
el:'<div id="please_wait" class="modal fade modal-vertically-centered"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><a href="" class="close close-modal-trigger" data-dismiss="modal" aria-label="Close">Close</a><h3></h3></div><div class="modal-body"><p class="modal-subheader"></p></div></div></div></div>',load:function(b){a("#please_wait .modal-header h3").html(b.title);a("#please_wait .modal-body .modal-subheader").html(b.msg)}},message:{id:"#msg_popup",el:'<div id="msg_popup" class="modal fade modal-vertically-centered"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><a href="" class="close close-modal-trigger" data-dismiss="modal" aria-label="Close">Close</a><h3></h3></div><div class="modal-body"><p class="modal-subheader"></p></div></div></div></div>0',
load:function(b){a("#msg_popup .modal-header h3").html(b.title);a("#msg_popup .modal-subheader").html(b.msg+" "+b.details)}},iframe:{id:"#iframe_popup",el:'<div id="iframe_popup" class="modal fade"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><a href="" class="close close-modal-trigger" data-dismiss="modal" aria-label="Close">Close</a><h3></h3></div><div class="modal-body"><iframe src=""></iframe></div></div></div></div>0',load:function(b){a("#iframe_popup .modal-header h3").html(b.title);
a("#iframe_popup iframe").attr("src",b.url)}}}[b];"object"===typeof c&&a.extend(d,f,c);0<!a(f.id).length&&a("body").append(f.el);f.load(d);a(f.id).modal({show:!0,keyboard:!0,backdrop:!0})}});0<a(".brand-menu-container").length&&(a(".primary-header-logo").contextmenu(function(b){b.preventDefault();a(".brand-menu-container").addClass("active")}),a("body").click(function(){a(".brand-menu-container").removeClass("active");a(".brand-menu-container").addClass("hiding");setTimeout(function(){a(".brand-menu-container").removeClass("hiding")},
500)}));a(".primary-header-contents > .menu-main-navigation-container > #menu-header > li").hover(function(){var b=a(this).find("ul.sub-menu");0<b.length&&b.addClass("active")},function(){var b=a(this).find("ul.sub-menu");0<b.length&&b.removeClass("active")});a(".menu-toggle").unbind("click.menu");a(".menu-toggle").bind("click.menu",function(){a("body").hasClass("mobile-nav-active")?(a("body").removeClass("mobile-nav-active"),a(".menu-item-has-children .sub-menu").hide()):a("body").addClass("mobile-nav-active")});
a(".menu-item-has-children").unbind("click.submenu");a(".menu-item-has-children").bind("click.submenu",function(){a("body").hasClass("mobile-nav-active")&&a(this).find(".sub-menu").toggle()});a(".home-login-form .btn-submit").click(function(){var b=a(".home-login-form input[name='log']").val().trim(),c=a(".home-login-form input[name='pwd']").val().trim();""!==b&&""!==c&&a(".home-login-form").submit()});a(".home-login-form .btn-secondary").click(function(){location.href="/login?action=register"});
a(".post-listing-image").each(function(){var b=1<this.width/this.height?"landscape-image":"portrait-image";a(this).addClass(b)});a(".banner-close").click(function(b){b.preventDefault();a(".banner-container").slideUp();b=new Date;b.setTime(b.getTime()+864E5);a.cookie("skip_ckcjoboffer",!0,{path:"/",expires:b,domain:".cure.org"})});if(0<a(".entry").length&&0!==a("#social-buttons").length&&"undefined"!==a.fn.affix){var f=a(".entry").offset().top,c=f+a(".entry").height();bottom_offset=a("body").offset().top+
a("body").height()-c;a("#social-buttons").affix({offset:{top:f,bottom:bottom_offset}})}for(var f=document.getElementsByTagName("th"),c=document.getElementsByTagName("td"),b=0;b<c.length;b++)c[b].setAttribute("data-th",f[b%f.length].textContent);var g=a(".scroll-indicator");a(window).one("scroll",function(){g.addClass("hidden")});a(".trigger-link-click").each(function(){a(this).change(function(){var b=a(this).val();window.location.href=b})})});
!function(a,f,c,b){function g(a,b,c){return Array.isArray(a)?(e(a,c[b],c),!0):!1}function e(a,c,d){var e;if(a)if(a.forEach)a.forEach(c,d);else if(a.length!==b)for(e=0;e<a.length;)c.call(d,a[e],e,a),e++;else for(e in a)a.hasOwnProperty(e)&&c.call(d,a[e],e,a)}function h(a,c,d){for(var e=Object.keys(c),f=0;f<e.length;)(!d||d&&a[e[f]]===b)&&(a[e[f]]=c[e[f]]),f++;return a}function d(a,b){return h(a,b,!0)}function l(a,b,c){var d=b.prototype;b=a.prototype=Object.create(d);b.constructor=a;b._super=d;c&&h(b,
c)}function m(a,b){return function(){return a.apply(b,arguments)}}function q(a,c){return typeof a==Ba?a.apply(c?c[0]||b:b,c):a}function t(a,b,c){e(v(b),function(b){a.addEventListener(b,c,!1)})}function r(a,b,c){e(v(b),function(b){a.removeEventListener(b,c,!1)})}function p(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function v(a){return a.trim().split(/\s+/g)}function s(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}
function u(a){return Array.prototype.slice.call(a,0)}function k(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];0>s(e,g)&&d.push(a[f]);e[f]=g;f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function y(a,c){for(var d,e,f=c[0].toUpperCase()+c.slice(1),g=0;g<Aa.length;){if(d=Aa[g],e=d?d+f:c,e in a)return e;g++}return b}function x(a){a=a.ownerDocument;return a.defaultView||a.parentWindow}function z(a,b){var c=this;this.manager=a;this.callback=b;this.element=a.element;
this.target=a.options.inputTarget;this.domHandler=function(b){q(a.options.enable,[a])&&c.handler(b)};this.init()}function O(a){var b=a.options.inputClass;return new (b?b:Oa?T:Pa?E:Ca?I:V)(a,F)}function F(a,c,d){var e=d.pointers.length,f=d.changedPointers.length,g=c&L&&0===e-f,e=c&(J|M)&&0===e-f;d.isFirst=!!g;d.isFinal=!!e;g&&(a.session={});d.eventType=c;c=a.session;g=d.pointers;e=g.length;c.firstInput||(c.firstInput=P(d));1<e&&!c.firstMultiple?c.firstMultiple=P(d):1===e&&(c.firstMultiple=!1);var f=
c.firstInput,h=(e=c.firstMultiple)?e.center:f.center,k=d.center=A(g);d.timeStamp=xa();d.deltaTime=d.timeStamp-f.timeStamp;d.angle=D(h,k);d.distance=K(h,k);var f=d.center,h=c.offsetDelta||{},k=c.prevDelta||{},m=c.prevInput||{};(d.eventType===L||m.eventType===J)&&(k=c.prevDelta={x:m.deltaX||0,y:m.deltaY||0},h=c.offsetDelta={x:f.x,y:f.y});d.deltaX=k.x+(f.x-h.x);d.deltaY=k.y+(f.y-h.y);d.offsetDirection=C(d.deltaX,d.deltaY);d.scale=e?K(g[0],g[1],ra)/K(e.pointers[0],e.pointers[1],ra):1;d.rotation=e?D(g[1],
g[0],ra)-D(e.pointers[1],e.pointers[0],ra):0;h=c.lastInterval||d;g=d.timeStamp-h.timeStamp;d.eventType!=M&&(g>Qa||h.velocity===b)?(f=h.deltaX-d.deltaX,h=h.deltaY-d.deltaY,k=f/g||0,m=h/g||0,g=k,e=m,k=ia(k)>ia(m)?k:m,f=C(f,h),c.lastInterval=d):(k=h.velocity,g=h.velocityX,e=h.velocityY,f=h.direction);d.velocity=k;d.velocityX=g;d.velocityY=e;d.direction=f;c=a.element;p(d.srcEvent.target,c)&&(c=d.srcEvent.target);d.target=c;a.emit("hammer.input",d);a.recognize(d);a.session.prevInput=d}function P(a){for(var b=
[],c=0;c<a.pointers.length;)b[c]={clientX:da(a.pointers[c].clientX),clientY:da(a.pointers[c].clientY)},c++;return{timeStamp:xa(),pointers:b,center:A(b),deltaX:a.deltaX,deltaY:a.deltaY}}function A(a){var b=a.length;if(1===b)return{x:da(a[0].clientX),y:da(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:da(c/b),y:da(d/b)}}function C(a,b){return a===b?sa:ia(a)>=ia(b)?0<a?ja:ka:0<b?la:ma}function K(a,b,c){c||(c=Da);var d=b[c[0]]-a[c[0]];a=b[c[1]]-a[c[1]];return Math.sqrt(d*
d+a*a)}function D(a,b,c){c||(c=Da);return 180*Math.atan2(b[c[1]]-a[c[1]],b[c[0]]-a[c[0]])/Math.PI}function V(){this.evEl=Ra;this.evWin=Sa;this.allow=!0;this.pressed=!1;z.apply(this,arguments)}function T(){this.evEl=Ea;this.evWin=Fa;z.apply(this,arguments);this.store=this.manager.session.pointerEvents=[]}function N(){this.evTarget=Ta;this.evWin=Ua;this.started=!1;z.apply(this,arguments)}function E(){this.evTarget=Va;this.targetIds={};z.apply(this,arguments)}function ha(a,b){var c=u(a.touches),d=this.targetIds;
if(b&(L|Z)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f=u(a.changedTouches),g=[],h=this.target;if(e=c.filter(function(a){return p(a.target,h)}),b===L)for(c=0;c<e.length;)d[e[c].identifier]=!0,c++;for(c=0;c<f.length;)d[f[c].identifier]&&g.push(f[c]),b&(J|M)&&delete d[f[c].identifier],c++;return g.length?[k(e.concat(g),"identifier",!0),g]:void 0}function I(){z.apply(this,arguments);var a=m(this.handler,this);this.touch=new E(this.manager,a);this.mouse=new V(this.manager,a)}function w(a,
b){this.manager=a;this.set(b)}function ca(a){if(-1<a.indexOf(na))return na;var b=-1<a.indexOf(oa),c=-1<a.indexOf(pa);return b&&c?oa+" "+pa:b||c?b?oa:pa:-1<a.indexOf(ya)?ya:Ga}function G(a){this.id=Ma++;this.manager=null;this.options=d(a||{},this.defaults);this.options.enable=this.options.enable===b?!0:this.options.enable;this.state=ta;this.simultaneous={};this.requireFail=[]}function n(a){return a==ma?"down":a==la?"up":a==ja?"left":a==ka?"right":""}function B(a,b){var c=b.manager;return c?c.get(a):
a}function R(){G.apply(this,arguments)}function Y(){R.apply(this,arguments);this.pY=this.pX=null}function H(){R.apply(this,arguments)}function ua(){G.apply(this,arguments);this._input=this._timer=null}function va(){R.apply(this,arguments)}function fa(){R.apply(this,arguments)}function ba(){G.apply(this,arguments);this.pCenter=this.pTime=!1;this._input=this._timer=null;this.count=0}function S(a,c){return c=c||{},c.recognizers=c.recognizers===b?S.defaults.preset:c.recognizers,new wa(a,c)}function wa(a,
b){b=b||{};this.options=d(b,S.defaults);this.options.inputTarget=this.options.inputTarget||a;this.handlers={};this.session={};this.recognizers=[];this.element=a;this.input=O(this);this.touchAction=new w(this,this.options.touchAction);za(this,!0);e(b.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]);a[3]&&b.requireFailure(a[3])},this)}function za(a,b){var c=a.element;e(a.options.cssProps,function(a,d){c.style[y(c.style,d)]=b?a:""})}function Ka(a,b){var c=f.createEvent("Event");
c.initEvent(a,!0,!0);c.gesture=b;b.target.dispatchEvent(c)}var Aa=" webkit moz MS ms o".split(" "),La=f.createElement("div"),Ba="function",da=Math.round,ia=Math.abs,xa=Date.now,Ma=1,Na=/mobile|tablet|ip(ad|hone|od)|android/i,Ca="ontouchstart"in a,Oa=y(a,"PointerEvent")!==b,Pa=Ca&&Na.test(navigator.userAgent),Qa=25,L=1,Z=2,J=4,M=8,sa=1,ja=2,ka=4,la=8,ma=16,U=ja|ka,aa=la|ma,Ha=U|aa,Da=["x","y"],ra=["clientX","clientY"];z.prototype={handler:function(){},init:function(){this.evEl&&t(this.element,this.evEl,
this.domHandler);this.evTarget&&t(this.target,this.evTarget,this.domHandler);this.evWin&&t(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&r(this.element,this.evEl,this.domHandler);this.evTarget&&r(this.target,this.evTarget,this.domHandler);this.evWin&&r(x(this.element),this.evWin,this.domHandler)}};var Wa={mousedown:L,mousemove:Z,mouseup:J},Ra="mousedown",Sa="mousemove mouseup";l(V,z,{handler:function(a){var b=Wa[a.type];b&L&&0===a.button&&(this.pressed=!0);b&Z&&1!==a.which&&
(b=J);this.pressed&&this.allow&&(b&J&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:"mouse",srcEvent:a}))}});var Xa={pointerdown:L,pointermove:Z,pointerup:J,pointercancel:M,pointerout:M},Ya={2:"touch",3:"pen",4:"mouse",5:"kinect"},Ea="pointerdown",Fa="pointermove pointerup pointercancel";a.MSPointerEvent&&(Ea="MSPointerDown",Fa="MSPointerMove MSPointerUp MSPointerCancel");l(T,z,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",
""),d=Xa[d],e=Ya[a.pointerType]||a.pointerType,f="touch"==e,g=s(b,a.pointerId,"pointerId");d&L&&(0===a.button||f)?0>g&&(b.push(a),g=b.length-1):d&(J|M)&&(c=!0);0>g||(b[g]=a,this.callback(this.manager,d,{pointers:b,changedPointers:[a],pointerType:e,srcEvent:a}),c&&b.splice(g,1))}});var Za={touchstart:L,touchmove:Z,touchend:J,touchcancel:M},Ta="touchstart",Ua="touchstart touchmove touchend touchcancel";l(N,z,{handler:function(a){var b=Za[a.type];if(b===L&&(this.started=!0),this.started){var c,d=u(a.touches);
c=u(a.changedTouches);c=(b&(J|M)&&(d=k(d.concat(c),"identifier",!0)),[d,c]);b&(J|M)&&0===c[0].length-c[1].length&&(this.started=!1);this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:"touch",srcEvent:a})}}});var $a={touchstart:L,touchmove:Z,touchend:J,touchcancel:M},Va="touchstart touchmove touchend touchcancel";l(E,z,{handler:function(a){var b=$a[a.type],c=ha.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:"touch",srcEvent:a})}});
l(I,z,{handler:function(a,b,c){var d="mouse"==c.pointerType;if("touch"==c.pointerType)this.mouse.allow=!1;else if(d&&!this.mouse.allow)return;b&(J|M)&&(this.mouse.allow=!0);this.callback(a,b,c)},destroy:function(){this.touch.destroy();this.mouse.destroy()}});var Ia=y(La.style,"touchAction"),Ja=Ia!==b,Ga="auto",ya="manipulation",na="none",oa="pan-x",pa="pan-y";w.prototype={set:function(a){"compute"==a&&(a=this.compute());Ja&&(this.manager.element.style[Ia]=a);this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},
compute:function(){var a=[];return e(this.manager.recognizers,function(b){q(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),ca(a.join(" "))},preventDefaults:function(a){if(!Ja){var b=a.srcEvent;a=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var c=this.actions,d=-1<c.indexOf(na),e=-1<c.indexOf(pa),c=-1<c.indexOf(oa);return d||e&&a&U||c&&a&aa?this.preventSrc(b):void 0}},preventSrc:function(a){this.manager.session.prevented=!0;a.preventDefault()}};var ta=
1,Q=2,ea=4,X=8,W=X,qa=16;G.prototype={defaults:{},set:function(a){return h(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(g(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=B(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return g(a,"dropRecognizeWith",this)?this:(a=B(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(g(a,"requireFailure",this))return this;var b=
this.requireFail;return a=B(a,this),-1===s(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(g(a,"dropRequireFailure",this))return this;a=B(a,this);a=s(this.requireFail,a);return-1<a&&this.requireFail.splice(a,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(e){c.manager.emit(c.options.event+(e?d&qa?"cancel":d&X?"end":d&ea?"move":d&Q?"start":"":""),a)}var c=
this,d=this.state;X>d&&b(!0);b();d>=X&&b(!0)},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=32)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(32|ta)))return!1;a++}return!0},recognize:function(a){a=h({},a);return q(this.options.enable,[this,a])?(this.state&(W|qa|32)&&(this.state=ta),this.state=this.process(a),void(this.state&(Q|ea|X|qa)&&this.tryEmit(a))):(this.reset(),void(this.state=32))},process:function(){},getTouchAction:function(){},
reset:function(){}};l(R,G,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(Q|ea);a=this.attrTest(a);return d&&(c&M||!a)?b|qa:d||a?c&J?b|X:b&Q?b|ea:Q:32}});l(Y,R,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ha},getTouchAction:function(){var a=this.options.direction,b=[];return a&U&&b.push(pa),a&aa&&b.push(oa),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,
e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&U?(e=0===f?sa:0>f?ja:ka,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?sa:0>g?la:ma,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return R.prototype.attrTest.call(this,a)&&(this.state&Q||!(this.state&Q)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX;this.pY=a.deltaY;var b=n(a.direction);b&&this.manager.emit(this.options.event+b,a);this._super.emit.call(this,a)}});
l(H,R,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[na]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&Q)},emit:function(a){(this._super.emit.call(this,a),1!==a.scale)&&this.manager.emit(this.options.event+(1>a.scale?"in":"out"),a)}});l(ua,G,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Ga]},process:function(a){var b=this.options,c=a.pointers.length===
b.pointers,d=a.distance<b.threshold,e=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(J|M)&&!e)this.reset();else if(a.eventType&L)this.reset(),this._timer=setTimeout(m(function(){this.state=W;this.tryEmit()},this),b.time);else if(a.eventType&J)return W;return 32},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===W&&(a&&a.eventType&J?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=xa(),this.manager.emit(this.options.event,this._input)))}});l(va,
R,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[na]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&Q)}});l(fa,R,{defaults:{event:"swipe",threshold:10,velocity:0.65,direction:U|aa,pointers:1},getTouchAction:function(){return Y.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(U|aa)?b=a.velocity:c&U?b=a.velocityX:c&aa&&(b=a.velocityY),this._super.attrTest.call(this,
a)&&c&a.direction&&a.distance>this.options.threshold&&ia(b)>this.options.velocity&&a.eventType&J},emit:function(a){var b=n(a.direction);b&&this.manager.emit(this.options.event+b,a);this.manager.emit(this.options.event,a)}});l(ba,G,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[ya]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,e=a.deltaTime<b.time;if(this.reset(),a.eventType&
L&&0===this.count)return this.failTimeout();if(d&&e&&c){if(a.eventType!=J)return this.failTimeout();c=this.pTime?a.timeStamp-this.pTime<b.interval:!0;d=!this.pCenter||K(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp;this.pCenter=a.center;d&&c?this.count+=1:this.count=1;this._input=a;if(0===this.count%b.taps)return this.hasRequireFailures()?(this._timer=setTimeout(m(function(){this.state=W;this.tryEmit()},this),b.interval),Q):W}return 32},failTimeout:function(){return this._timer=setTimeout(m(function(){this.state=
32},this),this.options.interval),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==W&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});S.VERSION="2.0.4";S.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[va,{enable:!1}],[H,{enable:!1},["rotate"]],[fa,{direction:U}],[Y,{direction:U},["swipe"]],[ba],[ba,{event:"doubletap",taps:2},["tap"]],[ua]],cssProps:{userSelect:"none",touchSelect:"none",
touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};wa.prototype={set:function(a){return h(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?2:1},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&W)&&(e=b.curRecognizer=
null);for(var f=0;f<d.length;)c=d[f],2===b.stopped||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(Q|ea|X)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof G)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(g(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(g(a,"remove",
this))return this;var b=this.recognizers;return a=this.get(a),b.splice(s(b,a),1),this.touchAction.update(),this},on:function(a,b){var c=this.handlers;return e(v(a),function(a){c[a]=c[a]||[];c[a].push(b)}),this},off:function(a,b){var c=this.handlers;return e(v(a),function(a){b?c[a].splice(s(c[a],b),1):delete c[a]}),this},emit:function(a,b){this.options.domEvents&&Ka(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a;b.preventDefault=function(){b.srcEvent.preventDefault()};
for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&za(this,!1);this.handlers={};this.session={};this.input.destroy();this.element=null}};h(S,{INPUT_START:L,INPUT_MOVE:Z,INPUT_END:J,INPUT_CANCEL:M,STATE_POSSIBLE:ta,STATE_BEGAN:Q,STATE_CHANGED:ea,STATE_ENDED:X,STATE_RECOGNIZED:W,STATE_CANCELLED:qa,STATE_FAILED:32,DIRECTION_NONE:sa,DIRECTION_LEFT:ja,DIRECTION_RIGHT:ka,DIRECTION_UP:la,DIRECTION_DOWN:ma,DIRECTION_HORIZONTAL:U,DIRECTION_VERTICAL:aa,DIRECTION_ALL:Ha,Manager:wa,Input:z,
TouchAction:w,TouchInput:E,MouseInput:V,PointerEventInput:T,TouchMouseInput:I,SingleTouchInput:N,Recognizer:G,AttrRecognizer:R,Tap:ba,Pan:Y,Swipe:fa,Pinch:H,Rotate:va,Press:ua,on:t,off:r,each:e,merge:d,extend:h,inherit:l,bindFn:m,prefixed:y});typeof define==Ba&&define.amd?define(function(){return S}):"undefined"!=typeof module&&module.exports?module.exports=S:a[c]=S}(window,document,"Hammer");
(function(a){function f(){g=function(a){return b+"-"+a};e=function(a){return b+"-"+a};h=function(a){return a+"."+b};a.each([g,e,h],function(a,b){b.add=function(a){a=a.split(" ");for(var c in a)b[a[c]]=b(a[c])}});g.add("touch desktop scale-1 scale-2 scale-3 wrapper opened opening fixed inline hover slider slide loading noanimation fastanimation");e.add("slide anchor");h.add("open opening close closing prev next slideTo sliding click pinch scroll resize orientationchange load loading loaded transitionend webkitTransitionEnd");
d={complObject:function(b,c){a.isPlainObject(b)||(b=c);return b},complBoolean:function(a,b){"boolean"!=typeof a&&(a=b);return a},complNumber:function(b,c){a.isNumeric(b)||(b=c);return b},complString:function(a,b){"string"!=typeof a&&(a=b);return a},isPercentage:function(a){return"string"==typeof a&&"%"==a.slice(-1)},getPercentage:function(a){return parseInt(a.slice(0,-1))},resizeRatio:function(a,b,c,d,e){var f=b.width();b=b.height();c&&f>c&&(f=c);d&&b>d&&(b=d);f/b<e?b=f/e:f=b*e;a.width(f).height(b)},
transitionend:function(a,b,c){var d=!1,e=function(){d||b.call(a[0]);d=!0};a.one(h.transitionend,e);a.one(h.webkitTransitionEnd,e);setTimeout(e,1.1*c)},setViewportScale:function(){if(l.viewportScale){var a=l.viewportScale.getScale();"undefined"!=typeof a&&(a=1/a,l.$body.removeClass(g["scale-1"]).removeClass(g["scale-2"]).removeClass(g["scale-3"]).addClass(g["scale-"+Math.max(Math.min(Math.round(a),3),1)]))}}};l={$wndw:a(window),$html:a("html"),$body:a("body"),scrollPosition:0,viewportScale:null,viewportScaleInterval:null};
l.$body.addClass(a[c].support.touch?g.touch:g.desktop);l.$wndw.on(h.scroll,function(a){l.$body.hasClass(g.opened)&&(window.scrollTo(0,l.scrollPosition),a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation())});!l.viewportScale&&a[c].support.touch&&"undefined"!=typeof FlameViewportScale&&(l.viewportScale=new FlameViewportScale,d.setViewportScale(),l.$wndw.on(h.orientationchange+" "+h.resize,function(){l.viewportScaleInterval&&(clearTimeout(l.viewportScaleInterval),l.viewportScaleInterval=
null);l.viewportScaleInterval=setTimeout(function(){d.setViewportScale()},500)}));a[c]._c=g;a[c]._d=e;a[c]._e=h;a[c]._f=d;a[c]._g=l}var c="tosrus",b="tos";if(!a[c]){var g={},e={},h={},d={},l={};a[c]=function(a,b,c){this.$node=a;this.opts=b;this.conf=c;this.vars={};this.nodes={};this.slides={};this._init();return this};a[c].prototype={_init:function(){var b=this;this._complementOptions();this.vars.fixed="window"==this.opts.wrapper.target;this.nodes.$wrpr=a('<div class="'+g.wrapper+'" />');this.nodes.$sldr=
a('<div class="'+g.slider+'" />').appendTo(this.nodes.$wrpr);this.nodes.$wrpr.addClass(this.vars.fixed?g.fixed:g.inline).addClass(g("fx-"+this.opts.effect)).addClass(g(this.opts.slides.scale)).addClass(this.opts.wrapper.classes);this.nodes.$wrpr.on(h.open+" "+h.close+" "+h.prev+" "+h.next+" "+h.slideTo,function(a){arguments=Array.prototype.slice.call(arguments);a=arguments.shift();var c=a.type;a.stopPropagation();"function"==typeof b[c]&&b[c].apply(b,arguments)}).on(h.opening+" "+h.closing+" "+h.sliding+
" "+h.loading+" "+h.loaded,function(a){a.stopPropagation()}).on(h.click,function(a){a.stopPropagation();switch(b.opts.wrapper.onClick){case "toggleUI":b.nodes.$wrpr.toggleClass(g.hover);break;case "close":b.close()}});this.nodes.$anchors=this._initAnchors();this.nodes.$slides=this._initSlides();this.slides.total=this.nodes.$slides.length;this.slides.visible=this.opts.slides.visible;this.slides.index=0;this.vars.opened=!0;for(var d=0;d<a[c].addons.length;d++)a.isFunction(this["_addon_"+a[c].addons[d]])&&
this["_addon_"+a[c].addons[d]]();for(d=0;d<a[c].ui.length;d++)this.nodes.$wrpr.find("."+g[a[c].ui[d]]).length&&this.nodes.$wrpr.addClass(g("has-"+a[c].ui[d]));this.vars.fixed?(this.nodes.$wrpr.appendTo(l.$body),this.close(!0)):(this.nodes.$wrpr.appendTo(this.opts.wrapper.target),this.opts.show?(this.vars.opened=!1,this.open(0,!0)):this.close(!0))},open:function(b,c){var e=this;this.vars.opened||(this.vars.fixed&&(l.scrollPosition=l.$wndw.scrollTop(),l.$body.addClass(g.opened),d.setViewportScale()),
c?this.nodes.$wrpr.addClass(g.opening).trigger(h.opening,[b,c]):setTimeout(function(){e.nodes.$wrpr.addClass(g.opening).trigger(h.opening,[b,c])},5),this.nodes.$wrpr.addClass(g.hover).addClass(g.opened));this.vars.opened=!0;this._loadContents();a.isNumeric(b)&&(c=c||!this.vars.opened,this.slideTo(b,c))},close:function(b){this.vars.opened&&(this.vars.fixed&&l.$body.removeClass(g.opened),b?this.nodes.$wrpr.removeClass(g.opened):d.transitionend(this.nodes.$wrpr,function(){a(this).removeClass(g.opened)},
this.conf.transitionDuration),this.nodes.$wrpr.removeClass(g.hover).removeClass(g.opening).trigger(h.closing,[this.slides.index,b]));this.vars.opened=!1},prev:function(b,c){a.isNumeric(b)||(b=this.opts.slides.slide);this.slideTo(this.slides.index-b,c)},next:function(b,c){a.isNumeric(b)||(b=this.opts.slides.slide);this.slideTo(this.slides.index+b,c)},slideTo:function(b,e){if(!this.vars.opened||!a.isNumeric(b))return!1;var f=!0;if(0>b){var l=0==this.slides.index;this.opts.infinite?b=l?this.slides.total-
this.slides.visible:0:(b=0,l&&(f=!1))}b+this.slides.visible>this.slides.total&&(l=this.slides.index+this.slides.visible>=this.slides.total,this.opts.infinite?b=l?0:this.slides.total-this.slides.visible:(b=this.slides.total-this.slides.visible,l&&(f=!1)));this.slides.index=b;this._loadContents();if(f){f=0-this.slides.index*this.opts.slides.width+this.opts.slides.offset;this.slides.widthPercentage&&(f+="%");e&&(this.nodes.$sldr.addClass(g.noanimation),d.transitionend(this.nodes.$sldr,function(){a(this).removeClass(g.noanimation)},
5));for(var p in a[c].effects)if(p==this.opts.effect){a[c].effects[p].call(this,f,e);break}this.nodes.$wrpr.trigger(h.sliding,[b,e])}},_initAnchors:function(){var b=this,d=a();if(this.$node.is("a"))for(var e in a[c].media)d=d.add(this.$node.filter(function(){return a[c].media[e].filterAnchors.call(b,a(this).attr("href"))}));return d},_initSlides:function(){this[this.$node.is("a")?"_initSlidesFromAnchors":"_initSlidesFromContent"]();return this.nodes.$sldr.children().css("width",this.opts.slides.width+
(this.slides.widthPercentage?"%":"px"))},_initSlidesFromAnchors:function(){var b=this;this.nodes.$anchors.each(function(c){var d=a(this),f=a('<div class="'+g.slide+" "+g.loading+'" />').data(e.anchor,d).appendTo(b.nodes.$sldr);d.data(e.slide,f).on(h.click,function(a){a.preventDefault();b.open(c)})})},_initSlidesFromContent:function(){var b=this;this.$node.children().each(function(){var d=a(this);a('<div class="'+g.slide+'" />').append(d).appendTo(b.nodes.$sldr);for(var e in a[c].media)if(a[c].media[e].filterSlides.call(b,
d)){a[c].media[e].initSlides.call(b,d);d.parent().addClass(g(e));break}})},_loadContents:function(){var a=this;switch(this.opts.slides.load){case "all":this._loadContent(0,this.slides.total);break;case "visible":this._loadContent(this.slides.index,this.slides.index+this.slides.visible);break;default:this._loadContent(this.slides.index,this.slides.index+this.slides.visible),setTimeout(function(){a._loadContent(a.slides.index-a.slides.visible,a.slides.index);a._loadContent(a.slides.index+a.slides.visible,
a.slides.index+2*a.slides.visible)},this.conf.transitionDuration)}},_loadContent:function(b,d){var f=this;this.nodes.$slides.slice(b,d).each(function(){var b=a(this);if(0==b.children().length){var d=b.data(e.anchor).attr("href"),l;for(l in a[c].media)if(a[c].media[l].filterAnchors.call(f,d)){a[c].media[l].initAnchors.call(f,b,d);b.addClass(g(l));break}b.trigger(h.loading,[b.data(e.anchor)])}})},_complementOptions:function(){"undefined"==typeof this.opts.wrapper.target&&(this.opts.wrapper.target=this.$node.is("a")?
"window":this.$node);"window"!=this.opts.wrapper.target&&"string"==typeof this.opts.wrapper.target&&(this.opts.wrapper.target=a(this.opts.wrapper.target));this.opts.show=d.complBoolean(this.opts.show,"window"!=this.opts.wrapper.target);if(a.isNumeric(this.opts.slides.width))this.slides.widthPercentage=!1,this.opts.slides.visible=d.complNumber(this.opts.slides.visible,1);else{var b=d.isPercentage(this.opts.slides.width)?d.getPercentage(this.opts.slides.width):!1;this.slides.widthPercentage=!0;this.opts.slides.visible=
d.complNumber(this.opts.slides.visible,b?Math.floor(100/b):1);this.opts.slides.width=b?b:Math.ceil(1E4/this.opts.slides.visible)/100}this.opts.slides.slide=d.complNumber(this.opts.slides.slide,this.opts.slides.visible);this.opts.slides.offset=d.isPercentage(this.opts.slides.offset)?d.getPercentage(this.opts.slides.offset):d.complNumber(this.opts.slides.offset,0)},_uniqueID:function(){this.__uniqueID||(this.__uniqueID=0);this.__uniqueID++;return g("uid-"+this.__uniqueID)}};a.fn[c]=function(b,d,e,g){l.$wndw||
f();b=a.extend(!0,{},a[c].defaults,b);b=a.extend(!0,{},b,a[c].support.touch?e:d);g=a.extend(!0,{},a[c].configuration,g);b=new a[c](this,b,g);this.data(c,b);return b.nodes.$wrpr};a[c].support={touch:"ontouchstart"in window.document};a[c].defaults={infinite:!1,effect:"slide",wrapper:{classes:"",onClick:"toggleUI"},slides:{offset:0,scale:"fit",load:"near-visible",visible:1}};a[c].configuration={transitionDuration:400};a[c].constants={};a[c].debug=function(){};a[c].deprecated=function(a,b){"undefined"!=
typeof console&&"undefined"!=typeof console.warn&&console.warn(c+": "+a+" is deprecated, use "+b+" instead.")};a[c].effects={slide:function(a){this.nodes.$sldr.css("left",a)},fade:function(b){d.transitionend(this.nodes.$sldr,function(){a(this).css("left",b).css("opacity",1)},this.conf.transitionDuration);this.nodes.$sldr.css("opacity",0)}};a[c].version="2.2.2";a[c].media={};a[c].addons=[];a[c].ui=[]}})(jQuery);
(function(a){function f(b,c){return a('<a class="'+g[b]+""+c+'" href="#"><span></span></a>')}function c(a,b,c,f){b.on(e.click,function(b){b.preventDefault();b.stopPropagation();a.trigger(e[c],[f])})}var b=!1,g,e;a.tosrus.prototype._addon_buttons=function(){b||(g=a.tosrus._c,e=a.tosrus._e,g.add("prev next close disabled"),b=!0);var h=this,d=this.opts.buttons;this.nodes.$prev=null;this.nodes.$next=null;this.nodes.$clse=null;if("boolean"==typeof d||"string"==typeof d&&"inline"==d)d={prev:d,next:d};"undefined"==
typeof d.close&&(d.close=this.vars.fixed);2>this.nodes.$slides.length&&(d.prev=!1,d.next=!1);a.each({prev:"prev",next:"next",close:"clse"},function(b,m){d[b]&&("string"==typeof d[b]&&"inline"==d[b]?h.vars.fixed&&"close"!=b&&h.nodes.$slides.on(e.loading,function(){var d=f(b," "+g.inline)["prev"==b?"prependTo":"appendTo"](this);c(h.nodes.$wrpr,d,b,1);h.opts.infinite||("prev"==b&&a(this).is(":first-child")||"next"==b&&a(this).is(":last-child"))&&d.addClass(g.disabled)}):("string"==typeof d[b]&&(d[b]=
a(d[b])),h.nodes["$"+m]=d[b]instanceof a?d[b]:f(b,"").appendTo(h.nodes.$wrpr),c(h.nodes.$wrpr,h.nodes["$"+m],b,null)))});this.opts.infinite||(this.updateButtons(),this.nodes.$wrpr.on(e.sliding,function(){h.updateButtons()}))};a.tosrus.prototype.updateButtons=function(){if(this.nodes.$prev)this.nodes.$prev[(1>this.slides.index?"add":"remove")+"Class"](g.disabled);if(this.nodes.$next)this.nodes.$next[(this.slides.index>=this.slides.total-this.slides.visible?"add":"remove")+"Class"](g.disabled)};a.tosrus.defaults.buttons=
{prev:!a.tosrus.support.touch,next:!a.tosrus.support.touch};a.tosrus.addons.push("buttons");a.tosrus.ui.push("prev");a.tosrus.ui.push("next");a.tosrus.ui.push("close")})(jQuery);
(function(a){var f=!1,c,b,g;a.tosrus.prototype._addon_caption=function(){f||(c=a.tosrus._c,b=a.tosrus._d,g=a.tosrus._e,c.add("caption uibg"),b.add("caption"),f=!0);var e=this,h=this.opts.caption;if(h.add){h.attributes=h.attributes||[];"string"==typeof h.target&&(h.target=a(h.target));h.target instanceof a?this.nodes.$capt=h.target:(this.nodes.$capt=a('<div class="'+c.caption+'" />').appendTo(this.nodes.$wrpr),this.nodes.$uibg||(this.nodes.$uibg=a('<div class="'+c.uibg+'" />').prependTo(this.nodes.$wrpr)));
for(var d=0,l=this.slides.visible;d<l;d++)a('<div class="'+c.caption+"-"+d+'" />').css("width",this.opts.slides.width+(this.slides.widthPercentage?"%":"px")).appendTo(this.nodes.$capt);this.nodes.$slides.each(function(){var c=a(this),d=e.vars.fixed?c.data(b.anchor):c.children();c.data(b.caption,"");for(var f=0,g=h.attributes.length;f<g;f++){var l=d.attr(h.attributes[f]);if(l&&l.length){c.data(b.caption,l);break}}});this.nodes.$wrpr.on(g.sliding,function(){for(var a=0,c=e.slides.visible;a<c;a++)e.nodes.$capt.children().eq(a).text(e.nodes.$sldr.children().eq(e.slides.index+
a).data(b.caption)||"")})}};a.tosrus.defaults.caption={add:!1,target:null,attributes:["title","alt","rel"]};a.tosrus.addons.push("caption");a.tosrus.ui.push("caption")})(jQuery);
(function(a){if("function"==typeof Hammer){var f=!1,c,b,g;a.tosrus.prototype._addon_drag=function(){f||(c=a.tosrus._c,b=a.tosrus._e,g=a.tosrus._f,f=!0);var e=this;if(this.opts.drag&&"slide"==this.opts.effect)if(2>Hammer.VERSION)a.tosrus.deprecated("Older version of the Hammer library","version 2 or newer");else if(1<this.nodes.$slides.length){var h=0,d=!1,l=!1;(new Hammer(this.nodes.$wrpr[0])).on("panstart panleft panright panend swipeleft swiperight",function(a){a.preventDefault()}).on("panstart",
function(){e.nodes.$sldr.addClass(c.noanimation)}).on("panleft panright",function(a){h=a.deltaX;l=!1;switch(a.direction){case 2:d="left";break;case 4:d="right";break;default:d=!1}if("left"==d&&e.slides.index+e.slides.visible>=e.slides.total||"right"==d&&0==e.slides.index)h/=2.5;e.nodes.$sldr.css("margin-left",Math.round(h))}).on("swipeleft swiperight",function(){l=!0}).on("panend",function(){e.nodes.$sldr.removeClass(c.noanimation).addClass(c.fastanimation);g.transitionend(e.nodes.$sldr,function(){e.nodes.$sldr.removeClass(c.fastanimation)},
e.conf.transitionDuration/2);e.nodes.$sldr.css("margin-left",0);if("left"==d||"right"==d){if(l)var a=e.slides.visible;else a=e.nodes.$slides.first().width(),a=Math.floor((Math.abs(h)+a/2)/a);0<a&&e.nodes.$wrpr.trigger(b["left"==d?"next":"prev"],[a])}d=!1})}};a.tosrus.defaults.drag=a.tosrus.support.touch;a.tosrus.addons.push("drag")}})(jQuery);
(function(a){var f=!1,c;a.tosrus.prototype._addon_keys=function(){f||(c=a.tosrus._e,c.add("keyup"),f=!0);var b=this,g=this.opts.keys;"boolean"==typeof g&&g&&(g={prev:!0,next:!0,close:!0});if(a.isPlainObject(g)){for(var e in a.tosrus.constants.keys)"boolean"==typeof g[e]&&g[e]&&(g[e]=a.tosrus.constants.keys[e]);2>this.nodes.$slides.length&&(g.prev=!1,g.next=!1);a(document).on(c.keyup,function(a){if(b.vars.opened){var d=!1;switch(a.keyCode){case g.prev:d=c.prev;break;case g.next:d=c.next;break;case g.close:d=
c.close}d&&(a.preventDefault(),a.stopPropagation(),b.nodes.$wrpr.trigger(d))}})}};a.tosrus.defaults.keys=!1;a.tosrus.constants.keys={prev:37,next:39,close:27};a.tosrus.addons.push("keys")})(jQuery);
(function(a){var f=!1,c,b,g;a.tosrus.prototype._addon_pagination=function(){f||(c=a.tosrus._c,b=a.tosrus._d,g=a.tosrus._e,c.add("pagination selected uibg bullets thumbnails"),f=!0);var e=this,h=this.opts.pagination;"boolean"==typeof h&&a.tosrus.deprecated('A boolean for the option "pagination"','the option "pagination.add"');"string"==typeof h&&a.tosrus.deprecated('A string for the option "pagination"','the option "pagination.target"');h instanceof a&&a.tosrus.deprecated('A jQuery object for the option "pagination"',
'the option "pagination.target"');2>this.nodes.$slides.length&&(h.add=!1);if(h.add){"string"==typeof h.target&&(h.target=a(h.target));h.target instanceof a?this.nodes.$pagr=h.target:(this.nodes.$pagr=a('<div class="'+c.pagination+" "+c[h.type]+'" />').appendTo(this.nodes.$wrpr),this.nodes.$uibg||(this.nodes.$uibg=a('<div class="'+c.uibg+'" />').prependTo(this.nodes.$wrpr)));if("function"!=typeof h.anchorBuilder)switch(h.type){case "thumbnails":h.anchorBuilder=this.vars.fixed?function(){return'<a href="#" style="background-image: url('+
a(this).data(b.anchor).attr("href")+');"></a>'}:function(){return'<a href="#" style="background-image: url('+a(this).find("img").attr("src")+');"></a>'};break;default:h.anchorBuilder=function(){return'<a href="#"></a>'}}this.nodes.$slides.each(function(b){a(h.anchorBuilder.call(this,b+1)).appendTo(e.nodes.$pagr).on(g.click,function(a){a.preventDefault();a.stopPropagation();e.nodes.$wrpr.trigger(g.slideTo,[b])})});this.updatePagination();this.nodes.$wrpr.on(g.sliding,function(){e.updatePagination()})}};
a.tosrus.prototype.updatePagination=function(){this.nodes.$pagr&&this.nodes.$pagr.children().removeClass(c.selected).eq(this.slides.index).addClass(c.selected)};a.tosrus.defaults.pagination={add:!1,type:"bullets",target:null,anchorBuilder:null};a.tosrus.addons.push("pagination");a.tosrus.ui.push("pagination");a.tosrus.ui.push("bullets");a.tosrus.ui.push("thumbnails")})(jQuery);
(function(a){a.tosrus.media.html={filterAnchors:function(f){return"#"==f.slice(0,1)&&a(f).is("div")},initAnchors:function(f,c){a('<div class="'+a.tosrus._c("html")+'" />').append(a(c)).appendTo(f);f.removeClass(a.tosrus._c.loading).trigger(a.tosrus._e.loaded)},filterSlides:function(a){return a.is("div")},initSlides:function(){}}})(jQuery);
(function(a){a.tosrus.media.image={filterAnchors:function(f){return-1<a.inArray(f.toLowerCase().split(".").pop().split("?")[0],["jpg","jpe","jpeg","gif","png"])},initAnchors:function(f,c){a('<img border="0" />').on(a.tosrus._e.load,function(b){b.stopPropagation();f.removeClass(a.tosrus._c.loading).trigger(a.tosrus._e.loaded)}).appendTo(f).attr("src",c)},filterSlides:function(a){return a.is("img")},initSlides:function(){}}})(jQuery);
(function(a){function f(f){function t(){r.length&&(r.attr("src",""),r.attr("src",v))}g||(e=a[c]._c,h=a[c]._d,d=a[c]._e,l=a[c]._f,m=a[c]._g,h.add("ratio maxWidth maxHeight"),g=!0);var r=f.children(),p=f.data(a[c]._d.anchor)||a(),v=r.attr("src"),s=p.data(h.ratio)||this.opts[b].ratio,u=p.data(h.maxWidth)||this.opts[b].maxWidth,k=p.data(h.maxHeight)||this.opts[b].maxHeight;f.removeClass(e.loading).trigger(d.loaded).on(d.loading,function(){l.resizeRatio(r,f,u,k,s)});this.nodes.$wrpr.on(d.sliding,function(){t()}).on(d.closing,
function(){t()});m.$wndw.on(d.resize,function(){l.resizeRatio(r,f,u,k,s)})}var c="tosrus",b="vimeo",g=!1,e,h,d,l,m;a[c].media[b]={filterAnchors:function(a){return-1<a.toLowerCase().indexOf("vimeo.com/")},initAnchors:function(b,c){var d=this._uniqueID();c=c.split("vimeo.com/")[1].split("?")[0]+"?api=1&player_id="+d;a('<iframe id="'+d+'" src="//player.vimeo.com/video/'+c+'" frameborder="0" allowfullscreen />').appendTo(b);f.call(this,b)},filterSlides:function(a){return a.is("iframe")&&a.attr("src")?
-1<a.attr("src").toLowerCase().indexOf("vimeo.com/video/"):!1},initSlides:function(a){f.call(this,a)}};a[c].defaults[b]={ratio:16/9,maxWidth:!1,maxHeight:!1}})(jQuery);
(function(a){function f(f){function t(a){r.length&&r[0].contentWindow.postMessage('{ "event": "command", "func": "'+a+'Video" }',"*")}g||(e=a[c]._c,h=a[c]._d,d=a[c]._e,l=a[c]._f,m=a[c]._g,h.add("ratio maxWidth maxHeight"),g=!0);var r=f.children(),p=f.data(a[c]._d.anchor)||a(),v=p.data(h.ratio)||this.opts[b].ratio,s=p.data(h.maxWidth)||this.opts[b].maxWidth,u=p.data(h.maxHeight)||this.opts[b].maxHeight;f.removeClass(e.loading).trigger(d.loaded).on(d.loading,function(){l.resizeRatio(r,f,s,u,v)});this.nodes.$wrpr.on(d.sliding,
function(){t("pause")}).on(d.closing,function(){t("stop")});m.$wndw.on(d.resize,function(){l.resizeRatio(r,f,s,u,v)})}var c="tosrus",b="youtube",g=!1,e,h,d,l,m;a[c].media[b]={filterAnchors:function(a){return-1<a.toLowerCase().indexOf("youtube.com/watch?v=")},initAnchors:function(d,e){var g=e;e=e.split("?v=")[1].split("&")[0];this.opts[b].imageLink?(e="//img.youtube.com/vi/"+e+"/0.jpg",a('<a href="'+g+'" class="'+a[c]._c("play")+'" target="_blank" />').appendTo(d),a('<img border="0" />').on(a[c]._e.load,
function(b){b.stopPropagation();d.removeClass(a[c]._c.loading).trigger(a[c]._e.loaded)}).appendTo(d).attr("src",e)):(a('<iframe src="//www.youtube.com/embed/'+e+'?enablejsapi=1" frameborder="0" allowfullscreen />').appendTo(d),f.call(this,d))},filterSlides:function(a){return a.is("iframe")&&a.attr("src")?-1<a.attr("src").toLowerCase().indexOf("youtube.com/embed/"):!1},initSlides:function(a){f.call(this,a)}};a[c].defaults[b]={ratio:16/9,maxWidth:!1,maxHeight:!1,imageLink:a[c].support.touch}})(jQuery);
cure.curekids=cure.curekids||{};cure.curekids.models=cure.curekids.models||{};cure.curekids.models.userAssocation=Backbone.Model.extend({defaults:{profile_id:"",user_authenticated:"",ID:"",email:"",join_email_list:"",follow_email:"",shortname:""}});
$(function(){cure.isUndefined(ckprofile)||$.ajax({url:"/curekids/trackview?profile_id="+ckprofile.profile_id,dataType:"json"});cure.isUndefined(newrelic)||cure.isUndefined(ckprofile)||$.each({ck_profile_id:ckprofile.profile_id,ck_country:ckprofile.country,ck_condition:ckprofile.condition,ck_url:window.location.hostname+ckprofile.friendly_uri,ck_desc:ckprofile.short_desc,ck_gender:ckprofile.gender,ck_age:ckprofile.age},function(a,f){newrelic.setCustomAttribute(a,f)});cure.isUndefined(newrelic)||cure.isUndefined(cure_user)||
(newrelic.setCustomAttribute("ck_user_id",cure_user.ID),newrelic.setCustomAttribute("ck_user_desc",cure_user.user_desc));$("#follow_email").focus(function(){$(".tos-slider").addClass("modal-input-has-focus")});$("#follow_email").blur(function(){$(".tos-slider").removeClass("modal-input-has-focus")});$(".hospital-select").change(function(){var a=$(this).find(":selected").val();location.href=""!=a?"my"==a?"/curekids?my=true#updates":"/curekids?country="+$(this).find(":selected").val()+"#updates":"/curekids#updates"});
$(".ck-profile-donate-amount").change(function(){""==$(this).val().trim()&&$(this).val($(this).attr("placeholder"));$(this).closest("form").find(".btn-submit").val("Donate $"+$(this).val()+"/Month")});190<$(".ck-profile-name").width()&&$(".ck-profile-header-col-1, .ck-profile-photos-container").addClass("large-name");$(".btn-ck-follow, .btn-follow").click(function(a){a.preventDefault();var f=$(this).data();a=_.template($("#CUREkidsFollowForm").html());_.isUndefined(ckprofile)&&(ckprofile=f);f=new cure.curekids.models.userAssocation(ckprofile);
_.isUndefined(cure_user)||f.set(cure_user);a=$(a(f.attributes)).appendTo(document.body);a.find("#follow_email").focusin(function(a){$("#follow_need_address_form").addClass("active")});a.validationEngine({scroll:!1,validationEventTrigger:"",onFailure:function(){$(this).addClass("register-box-error")}});a.find("form").submit(function(a){var b=$(this).find("input[name='email']").val();a.preventDefault();$(this).validationEngine("validate")&&null!=b&&($(this).find("input[name='join_email_list']").is(":checked")&&
$(this).find("input[name='join_email_list']").val("true"),$(".modal").modal("hide"),a="We're setting up <strong>"+b+"</strong> to receive progress updates on "+ckprofile.shortname+" right now.",cure.popup("pleaseWait",{msg:a,waiting:!1}),$(this).ajaxSubmit({dataType:"json",type:"POST",success:processFollow}),$(this)[0].reset());return!1});a.modal({show:!0,keyboard:!0,backdrop:!0});return!1});$(".btn-ck-following").click(function(a){a.preventDefault()});$(".read-more-link").click(function(a){a.preventDefault();
$(".ck-profile-excerpt-copy").hide();$(".ck-profile-about-copy").show()});void 0!==$.fn.linkify&&0<$(".ck-profile-update-container").length&&$(".ck-profile-update-container").linkify();$(".btn-more-updates").click(function(a){a.preventDefault();$(".ck-profile-update-container").each(function(){$(this).css("display","block")});$(".btn-more-updates").css("display","none")});void 0!==$.fn.tosrus&&0<$(".lnk-profile-photo, .ck-profile-get-well-inline-media, .lnk-procedure-photo, .ck-home-update-photo, .lnk-get-well-attachment").length&&
$(".lnk-profile-photo, .ck-profile-get-well-inline-media, .lnk-procedure-photo, .ck-home-update-photo, .lnk-get-well-attachment").tosrus({infinite:!0,drag:!0,pagination:{add:!0}},{effect:"fade",caption:{add:!0},keys:!0,show:!0,pagination:{add:!0,type:"thumbnails"}});$(".go-to-helpnow-trigger").click(function(){$("input.ck-profile-donate-name").focus();$.fn.scrollToId("helpnow")});$("#helpnow").mouseover(function(){$(".ck-profile-fa, .ck-profile-testimonial").slideDown()});$(".follow-email").focus(function(){!1==
$(".follow-need-address-form").hasClass("active")&&!1==$(".follow-need-address-form").val()&&$(".follow-need-address-form").addClass("active")});$(".follow-need-address-form .icon-question-mark").click(function(){!1==$(".follow-email-description").hasClass("active")&&($(".follow-email-description").addClass("active"),$(this).addClass("hidden"))});$(".ck-profile-donate-name").change(function(){var a=$("#ck_payment_form");cure.isUndefined(NameParse)||(NameParse.parse($(this).val()),a.find("input[name='prefix_name']").val(""),
a.find("input[name='first_name']").val(""),a.find("input[name='last_name']").val(""),a.find("input[name='suffix_name']").val(""))});window.location.hash&&0<window.location.hash.length&&(0==window.location.hash.indexOf("#photos")?$(".more-photos-link").trigger("click"):0==window.location.hash.indexOf("#explanation")||0==window.location.hash.indexOf("#learn-more")?_.delay(function(){$(".learn-more-trigger").trigger("click")},200):0==window.location.hash.indexOf("#getwell")||"true"==$.url.param("getwell")?
setTimeout(function(){$.fn.scrollToId("getwell");$("#getwell_message").click();$("#getwell_message").focus()},500):0==window.location.hash.indexOf("#helpnow")||0==window.location.hash.indexOf("#give")?($.fn.scrollToId("helpnow"),$("input.ck-profile-donate-name").focus()):0==window.location.hash.indexOf("#follow")?$("#btn-ck-follow-primary").trigger("click"):0==window.location.hash.indexOf("#getwell-messages")?$.fn.scrollToId("getwell-messages"):0==window.location.hash.indexOf("#unsubscribe")?cure.popup("message",
{title:"You Have Successfully Unsubscribed",msg:"Because you chose to Unsubscribe, you will no longer receive email updates on this case. If you have questions or concerns, email us at <a href='mailto:info@cure.org'>info@cure.org</a>."}):0==window.location.hash.indexOf("#procedure")?loadProcedure(window.location.hash.substr(10)):0<$(window.location.hash.substr(1)).length&&($(window.location.hash.substr(1)).focus(),$.fn.scrollToId(window.location.hash.substr(1))))});
function loadProcedure(a){a=_findProcedure(a);var f=a.procedure_date.date.match(/(\d+)/g),f=new Date(f[0],f[1],f[2]),f=f.getMonth()+"/"+f.getDate()+"/"+f.getFullYear();null!=a.preop_photo_url&&0<a.preop_photo_url.length?($("#ck-before-photo").attr("src",a.preop_photo_url),$("#ck-before-photo").parent().attr("href",a.preop_photo_url)):($("#ck-before-photo").attr("src","/img/curekids2014/child-icon.svg"),$("#ck-before-photo").parent().attr("href","#"));null!=a.postop_photo_url&&0<a.postop_photo_url.length?
($("#ck-after-photo").attr("src",a.postop_photo_url),$("#ck-after-photo").parent().attr("href",a.preop_photo_url)):($("#ck-after-photo").attr("src","/img/curekids2014/child-icon.svg"),$("#ck-after-photo").parent().attr("href","#"));$(".ck-procedure-section > h3 > span").text(f);$(".ck-procedure-section > div.ck-profile-about-copy > p").text("The current before and after pictures represent the results of the procedure on "+f+".");$(".ck-procedure-section").css("display","block");$.fn.scrollToId("ck-before-photo")}
function _findProcedure(a){for(var f=0;null!=ckprofile.procedures&&f<ckprofile.procedures.length;f++)if(ckprofile.procedures[f].procedure_id==a)return ckprofile.procedures[f];return null}
function processFollow(a){var f=!1,c=!1,f=a.email||"",b=_.template($("#CUREkidsFollowConfirmation").html())(a);cure.isUndefined(_hsq)||(c=!0);c&&""!==f&&(f={email:a.email},_hsq.push(["identify",f]));cure.closePleaseWait();a.msg?cure.popup("message",{title:a.title,msg:a.msg}):a.user_id?(c&&_hsq.push(["trackEvent",{id:"000000379567",value:"success"}]),$(".unsubscribe-trigger").attr("href","/curekids/unsubscribe?id="+$("#profile_id").val()+"&user_id="+a.user_id),$(b).appendTo(document.body).modal({show:!0,
keyboard:!0,backdrop:!0}),$(".btn-ck-follow").css("display","none")):(c&&_hsq.push(["trackEvent",{id:"000000379567",value:"error"}]),cure.popup("message",{title:"An error occurred",msg:'An unexpected error occurred. Email <a href="mailto:donor.support@cure.org">donor.support@cure.org</a> for assistance.',details:a.error}))}
function jobman_apply_filter(){var a,f,c,b,g=[];for(a=0;a<jobman_mandatory_ids.length;a++)if(f=jQuery('[name^="jobman-field-'+jobman_mandatory_ids[a]+'"]'),"function"==typeof f.prop?(c=f.prop("value"),b=f.prop("type")):(c=f.attr("value"),b=f.attr("type")),1==f.length&&""==c&&g.push(jobman_mandatory_labels[a]),"radio"==b||"checkbox"==b){c=!1;for(b=0;b<f.length;b++)if(f[b].checked){c=!0;break}c||g.push(jobman_mandatory_labels[a])}if(0<g.length){f=jobman_strings.apply_submit_mandatory_warning+":\n";
for(a=0;a<g.length;a++)f+=g[a]+"\n";alert(f);return!1}return!0}
!function(a){a.fn.fitVids=function(f){var c={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var b=document.head||document.getElementsByTagName("head")[0],g=document.createElement("div");g.innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>';b.appendChild(g.childNodes[1])}return f&&
a.extend(c,f),this.each(function(){var b="iframe[src*='player.vimeo.com'] iframe[src*='youtube.com'] iframe[src*='youtube-nocookie.com'] iframe[src*='kickstarter.com'][src*='video.html'] object embed".split(" ");c.customSelector&&b.push(c.customSelector);var f=".fitvidsignore";c.ignore&&(f=f+", "+c.ignore);b=a(this).find(b.join(","));b=b.not("object object");b=b.not(f);b.each(function(){var b=a(this);if(!(0<b.parents(f).length||"embed"===this.tagName.toLowerCase()&&b.parent("object").length||b.parent(".fluid-width-video-wrapper").length)){b.css("height")||
b.css("width")||!isNaN(b.attr("height"))&&!isNaN(b.attr("width"))||(b.attr("height",9),b.attr("width",16));var c="object"===this.tagName.toLowerCase()||b.attr("height")&&!isNaN(parseInt(b.attr("height"),10))?parseInt(b.attr("height"),10):b.height(),e=isNaN(parseInt(b.attr("width"),10))?b.width():parseInt(b.attr("width"),10),c=c/e;b.attr("id")||(e="fitvid"+Math.floor(999999*Math.random()),b.attr("id",e));b.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",
100*c+"%");b.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto);
!function(a){a.fn.closeDOMWindow=function(f){f||(f={});var c=function(b){if(f.anchoredClassName){var c=a("."+f.anchoredClassName);c.fadeOut("fast",function(){a.fn.draggable?c.draggable("destory").trigger("unload").remove():c.trigger("unload").remove()})}else{var e=a("#DOMWindowOverlay"),h=a("#DOMWindow");e.fadeOut("fast",function(){e.trigger("unload").unbind().remove()});h.fadeOut("fast",function(){a.fn.draggable?h.draggable("destroy").trigger("unload").remove():h.trigger("unload").remove()});a(window).unbind("scroll.DOMWindow");
a(window).unbind("resize.DOMWindow");a.fn.openDOMWindow.isIE6&&a("#DOMWindowIE6FixIframe").remove()}f.functionCallOnClose&&f.functionCallAfterClose()};return f.eventType?this.each(function(b){a(this).bind(f.eventType,function(){return c(this),!1})}):void c()};a.closeDOMWindow=function(f){a.fn.closeDOMWindow(f)};a.fn.openDOMWindow=function(f){var c=a.fn.openDOMWindow;c.defaultsSettings={anchoredClassName:"",anchoredSelector:"",borderColor:"#ccc",borderSize:"4",draggable:0,eventType:null,fixedWindowY:100,
functionCallOnOpen:null,functionCallOnClose:null,height:500,loader:0,loaderHeight:0,loaderImagePath:"",loaderWidth:0,modal:0,overlay:1,overlayColor:"#000",overlayOpacity:"85",positionLeft:0,positionTop:0,positionType:"centered",width:500,windowBGColor:"#fff",windowBGImage:null,windowHTTPType:"get",windowPadding:10,windowSource:"inline",windowSourceID:"",windowSourceURL:"",windowSourceAttrURL:"href"};var b=a.extend({},a.fn.openDOMWindow.defaultsSettings,f||{});c.viewPortHeight=function(){return self.innerHeight||
document.documentElement.clientHeight||document.body.clientHeight};c.viewPortWidth=function(){return self.innerWidth||document.documentElement.clientWidth||document.body.clientWidth};c.scrollOffsetHeight=function(){return self.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop};c.scrollOffsetWidth=function(){return self.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft};c.isIE6="undefined"==typeof document.body.style.maxHeight;var g=function(){var b=
a("#DOMWindowOverlay");c.isIE6?b.css({height:document.documentElement.offsetHeight+document.documentElement.scrollTop-4+"px",width:document.documentElement.offsetWidth-21+"px"}):b.css({height:"100%",width:"100%",position:"fixed"})},e=function(){var b=document.documentElement.offsetHeight+document.documentElement.scrollTop-4,c=document.documentElement.offsetWidth-21;a("#DOMWindowIE6FixIframe").css({height:b+"px",width:c+"px"})},h=function(){var d=a("#DOMWindow");b.height+50>c.viewPortHeight()?d.css("left",
Math.round(c.viewPortWidth()/2)+c.scrollOffsetWidth()-Math.round(d.outerWidth()/2)):(d.css("left",Math.round(c.viewPortWidth()/2)+c.scrollOffsetWidth()-Math.round(d.outerWidth()/2)),d.css("top",Math.round(c.viewPortHeight()/2)+c.scrollOffsetHeight()-Math.round(d.outerHeight()/2)))},d=function(){var b=a("#DOMWindowLoader");c.isIE6?(b.css({left:Math.round(c.viewPortWidth()/2)+c.scrollOffsetWidth()-Math.round(b.innerWidth()/2),position:"absolute"}),b.css({top:Math.round(c.viewPortHeight()/2)+c.scrollOffsetHeight()-
Math.round(b.innerHeight()/2),position:"absolute"})):b.css({left:"50%",top:"50%",position:"fixed"})},l=function(){var d=a("#DOMWindow");d.css("left",b.positionLeft+c.scrollOffsetWidth());d.css("top",+b.positionTop+c.scrollOffsetHeight())},m=function(c){c?(a("."+c+" #DOMWindowLoader").remove(),a("."+c+" #DOMWindowContent").fadeIn("fast",function(){b.functionCallOnOpen&&b.functionCallOnOpen()}),a("."+c+".closeDOMWindow").click(function(){return a.closeDOMWindow(),!1})):(a("#DOMWindowLoader").remove(),
a("#DOMWindow").fadeIn("fast",function(){b.functionCallOnOpen&&b.functionCallOnOpen()}),a("#DOMWindow .closeDOMWindow").click(function(){return a.closeDOMWindow(),!1}))},q=function(a){var b={};return a.replace(/b([^&=]*)=([^&=]*)b/g,function(a,c,d){"undefined"!=typeof b[c]?b[c]+=","+d:b[c]=d}),b},t=function(f){b.windowSourceID=a(f).attr("href")||b.windowSourceID;b.windowSourceURL=a(f).attr(b.windowSourceAttrURL)||b.windowSourceURL;b.windowBGImage=b.windowBGImage?"background-image:url("+b.windowBGImage+
")":"";var p,t;if("anchored"==b.positionType){var s=a(b.anchoredSelector).position();f=s.left+b.positionLeft;s=s.top+b.positionTop;switch(a("body").append('<div class="'+b.anchoredClassName+'" style="'+b.windowBGImage+";background-repeat:no-repeat;padding:"+b.windowPadding+"px;overflow:auto;position:absolute;top:"+s+"px;left:"+f+"px;height:"+b.height+"px;width:"+b.width+"px;background-color:"+b.windowBGColor+";border:"+b.borderSize+"px solid "+b.borderColor+';z-index:10001"><div id="DOMWindowContent" style="display:none"></div></div>'),
b.loader&&""!==b.loaderImagePath&&a("."+b.anchoredClassName).append('<div id="DOMWindowLoader" style="width:'+b.loaderWidth+"px;height:"+b.loaderHeight+'px;"><img src="'+b.loaderImagePath+'" /></div>'),a.fn.draggable&&b.draggable&&a("."+b.anchoredClassName).draggable({cursor:"move"}),b.windowSource){case "inline":a("."+b.anchoredClassName+" #DOMWindowContent").append(a(b.windowSourceID).children());a("."+b.anchoredClassName).unload(function(){a("."+b.windowSourceID).append(a("."+b.anchoredClassName+
" #DOMWindowContent").children())});m(b.anchoredClassName);break;case "iframe":a("."+b.anchoredClassName+" #DOMWindowContent").append('<iframe frameborder="0" hspace="0" wspace="0" src="'+b.windowSourceURL+'" name="DOMWindowIframe'+Math.round(1E3*Math.random())+'" style="width:100%;height:100%;border:none;background-color:#fff;" class="'+b.anchoredClassName+'Iframe" ></iframe>');a("."+b.anchoredClassName+"Iframe").load(m(b.anchoredClassName));break;case "ajax":"post"==b.windowHTTPType?(-1!==b.windowSourceURL.indexOf("?")?
(p=b.windowSourceURL.substr(0,b.windowSourceURL.indexOf("?")),t=q(b.windowSourceURL)):(p=b.windowSourceURL,t={}),a("."+b.anchoredClassName+" #DOMWindowContent").load(p,t,function(){m(b.anchoredClassName)})):(-1==b.windowSourceURL.indexOf("?")&&(b.windowSourceURL+="?"),a("."+b.anchoredClassName+" #DOMWindowContent").load(b.windowSourceURL+"&random="+(new Date).getTime(),function(){m(b.anchoredClassName)}))}}else{b.overlay&&(a("body").append('<div id="DOMWindowOverlay" style="z-index:10000;display:none;position:absolute;top:0;left:0;background-color:'+
b.overlayColor+";filter:alpha(opacity="+b.overlayOpacity+");-moz-opacity: 0."+b.overlayOpacity+";opacity: 0."+b.overlayOpacity+';"></div>'),c.isIE6&&(a("body").append('<iframe id="DOMWindowIE6FixIframe"  src="blank.html"  style="width:100%;height:100%;z-index:9999;position:absolute;top:0;left:0;filter:alpha(opacity=0);"></iframe>'),e()),g(),f=a("#DOMWindowOverlay"),f.fadeIn("fast"),b.modal||f.click(function(){a.closeDOMWindow()}));b.loader&&""!==b.loaderImagePath&&(a("body").append('<div id="DOMWindowLoader" style="z-index:10002;width:'+
b.loaderWidth+"px;height:"+b.loaderHeight+'px;"><img src="'+b.loaderImagePath+'" /></div>'),d());a("body").append('<div id="DOMWindow" style="background-repeat:no-repeat;'+b.windowBGImage+";overflow:auto;padding:"+b.windowPadding+"px;display:none;height:"+b.height+"px;width:"+b.width+"px;background-color:"+b.windowBGColor+";border:"+b.borderSize+"px solid "+b.borderColor+'; position:absolute;z-index:10001"></div>');var u=a("#DOMWindow");switch(b.positionType){case "centered":h();b.height+50>c.viewPortHeight()&&
u.css("top",b.fixedWindowY+c.scrollOffsetHeight()+"px");break;case "absolute":u.css({top:b.positionTop+c.scrollOffsetHeight()+"px",left:b.positionLeft+c.scrollOffsetWidth()+"px"});a.fn.draggable&&b.draggable&&u.draggable({cursor:"move"});break;case "fixed":l();break;case "anchoredSingleWindow":s=a(b.anchoredSelector).position(),f=s.left+b.positionLeft,s=s.top+b.positionTop,u.css({top:s+"px",left:f+"px"})}switch(a(window).bind("scroll.DOMWindow",function(){b.overlay&&g();c.isIE6&&e();"centered"==b.positionType&&
h();"fixed"==b.positionType&&l()}),a(window).bind("resize.DOMWindow",function(){c.isIE6&&e();b.overlay&&g();"centered"==b.positionType&&h()}),b.windowSource){case "inline":u.append(a(b.windowSourceID).children());u.unload(function(){a(b.windowSourceID).append(u.children())});m();break;case "iframe":u.append('<iframe frameborder="0" hspace="0" wspace="0" src="'+b.windowSourceURL+'" name="DOMWindowIframe'+Math.round(1E3*Math.random())+'" style="width:100%;height:100%;border:none;background-color:#fff;" id="DOMWindowIframe" ></iframe>');
a("#DOMWindowIframe").load(m());break;case "ajax":"post"==b.windowHTTPType?(-1!==b.windowSourceURL.indexOf("?")?(p=b.windowSourceURL.substr(0,b.windowSourceURL.indexOf("?")),t=q(b.windowSourceURL)):(p=b.windowSourceURL,t={}),u.load(p,t,function(){m()})):(-1==b.windowSourceURL.indexOf("?")&&(b.windowSourceURL+="?"),u.load(b.windowSourceURL+"&random="+(new Date).getTime(),function(){m()}))}}};return b.eventType?this.each(function(c){a(this).bind(b.eventType,function(){return t(this),!1})}):void t()};
a.openDOMWindow=function(f){a.fn.openDOMWindow(f)}}(jQuery);var initFeaturedVideoPlus;
!function(a){function f(){a(".has-post-video a>.featured-video-plus,.has-post-video a>.fvp-dynamic,.has-post-video a>.fvp-overlay,.has-post-video a>.wp-video,.has-post-video a>.wp-video-shortcode").unwrap();a(".has-post-video .post-thumbnail>.post-thumbnail").removeClass("post-thumbnail");a("a.post-thumbnail:empty").not(".fvp-dynamic, .fvp-overlay").remove()}function c(){fvpdata.fitvids&&a(".featured-video-plus.fvp-responsive").fitVids({customSelector:["iframe","object","embed"]})}function b(){if(fvpdata.width&&
!fvpdata.fitvids){a(".fvp-local .wp-video").css({width:fvpdata.width,height:"auto"});var b=a(".fvp-local .wp-video .wp-video-shortcode");b.attr({width:fvpdata.width,height:fvpdata.width/b.attr("width")*b.attr("heigth")})}}function g(){void 0===l&&[fvpdata.playicon,fvpdata.loadicon].forEach(function(b){a("body").append(a("<img/>",{src:b}).hide())});l=l===q?t:q;m.css({backgroundImage:l})}function e(b){b=a(b.currentTarget).children("img");0===b.siblings(".fvp-loader").length?(m.addClass(b.attr("class")).css({height:b.height(),
width:b.width(),margin:b.css("margin")}),b.animate({opacity:fvpdata.opacity}).before(m)):l!==t&&(b.animate({opacity:1}),m.remove())}function h(b){b.preventDefault();var d=a(b.currentTarget);b=parseInt(d.attr("data-id"),10);g();a.post(fvpdata.ajaxurl,{action:"fvp_get_embed",fvp_nonce:fvpdata.nonce,id:b},function(a){if(a.success){var b=d.parent();d.replaceWith(a.data);b.find(".wp-audio-shortcode, .wp-video-shortcode").mediaelementplayer();c();f()}g()})}function d(c){c.preventDefault();c=a(c.currentTarget);
var d=parseInt(c.attr("data-id"),10);c.openDOMWindow({eventType:null,windowPadding:0,borderSize:0,windowBGColor:"transparent",overlayOpacity:100*fvpdata.opacity,width:"100%",height:"100%"});a("#DOMWindow").css({backgroundImage:t});r[d]?(a("#DOMWindow").html(r[d]),a(window).trigger("scroll")):a.post(fvpdata.ajaxurl,{action:"fvp_get_embed",fvp_nonce:fvpdata.nonce,id:d},function(c){c.success&&(r[d]=c.data,a("#DOMWindow").html(c.data),b(),a(window).trigger("scroll"))})}var l,m=a("<div />").addClass("fvp-loader"),
q="url('"+fvpdata.playicon+"')",t="url('"+fvpdata.loadicon+"')",r={};initFeaturedVideoPlus=function(){f();setTimeout(f,1E3);c();b();a(".fvp-overlay, .fvp-dynamic").hover(e,e);g();a(".fvp-dynamic").click(h);a(".fvp-overlay").click(d)};a(document).ready(function(){window.chrome&&a(".featured-video-plus iframe").each(function(){this.src=this.src});initFeaturedVideoPlus()})}(jQuery);
